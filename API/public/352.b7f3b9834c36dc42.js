"use strict";(self.webpackChunksalon_web=self.webpackChunksalon_web||[]).push([[352],{7352:(K,_,s)=>{s.r(_),s.d(_,{TopProductsModule:()=>E});var p=s(6895),m=s(4553),t=s(4650),h=s(7241),v=s(5830),T=s(4811),l=s(7890),f=s(502);function Z(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.AsE(" ",i.util.currencySymbol," ",o.original_price," ")}}function y(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.AsE(" ",o.original_price," ",i.util.currencySymbol," ")}}function C(e,n){if(1&e&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.AsE(" ",i.util.currencySymbol," ",o.sell_price," ")}}function q(e,n){if(1&e&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.AsE(" ",o.sell_price," ",i.util.currencySymbol," ")}}function b(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().index,r=t.oxw();return t.KtG(r.addToCart(c))}),t._uU(1),t.qZA()}if(2&e){const o=t.oxw(2);t.xp6(1),t.Oqu(o.util.translate("ADD"))}}function P(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",26)(1,"div",27),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().index,r=t.oxw();return t.KtG(r.remove(c))}),t._UZ(2,"mdb-icon",28),t.qZA(),t.TgZ(3,"h6",29),t._uU(4),t.qZA(),t.TgZ(5,"div",27),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().index,r=t.oxw();return t.KtG(r.add(c))}),t._UZ(6,"mdb-icon",30),t.qZA()()}if(2&e){const o=t.oxw().$implicit;t.xp6(4),t.Oqu(o.quantity)}}const A=function(e){return{"background-image":e}},a=function(e){return{color:e}};function J(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"a",10)(3,"div",11)(4,"div",12),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.onProductDetail(r.id))}),t.qZA(),t.TgZ(5,"h6",13),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.onProductDetail(r.id))}),t._uU(6),t.qZA(),t.TgZ(7,"div",14),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.onProductDetail(r.id))}),t._UZ(8,"mdb-icon",15)(9,"mdb-icon",15)(10,"mdb-icon",15)(11,"mdb-icon",15)(12,"mdb-icon",15),t.TgZ(13,"h6",16),t._uU(14),t.qZA()(),t.TgZ(15,"div",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.onProductDetail(r.id))}),t.TgZ(16,"h6",18)(17,"del"),t.YNc(18,Z,2,2,"span",19),t.YNc(19,y,2,2,"span",19),t.qZA()(),t.TgZ(20,"h6",20),t.YNc(21,C,2,2,"span",21),t.YNc(22,q,2,2,"span",21),t.qZA()(),t.YNc(23,b,2,1,"button",22),t.YNc(24,P,7,1,"div",23),t.qZA()()()()}if(2&e){const o=n.$implicit,i=t.oxw();t.xp6(4),t.Q6J("ngStyle",t.VKq(14,A,"url("+i.api.mediaURL+o.cover+"),url(assets/images/placeholder.png)")),t.xp6(2),t.hij(" ",o.name,""),t.xp6(2),t.Q6J("ngStyle",t.VKq(16,a,o.rating>=1?"orange":"grey")),t.xp6(1),t.Q6J("ngStyle",t.VKq(18,a,o.rating>=2?"orange":"grey")),t.xp6(1),t.Q6J("ngStyle",t.VKq(20,a,o.rating>=3?"orange":"grey")),t.xp6(1),t.Q6J("ngStyle",t.VKq(22,a,o.rating>=4?"orange":"grey")),t.xp6(1),t.Q6J("ngStyle",t.VKq(24,a,o.rating>=5?"orange":"grey")),t.xp6(2),t.Oqu(o.total_rating),t.xp6(4),t.Q6J("ngIf","left"==i.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==i.util.currencySide),t.xp6(2),t.Q6J("ngIf","left"==i.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==i.util.currencySide),t.xp6(1),t.Q6J("ngIf",0==o.quantity),t.xp6(1),t.Q6J("ngIf",i.productCart.itemId.includes(o.id))}}const Q=function(){return{"border-radius":"5px",height:"120px",width:"180px"}};function w(e,n){1&e&&(t.TgZ(0,"div"),t._UZ(1,"ngx-skeleton-loader",39),t.qZA()),2&e&&(t.xp6(1),t.Q6J("theme",t.DdM(1,Q)))}const k=function(){return{"border-radius":"50%",height:"120px",width:"120px"}};function M(e,n){1&e&&(t.TgZ(0,"div"),t._UZ(1,"ngx-skeleton-loader",39),t.qZA()),2&e&&(t.xp6(1),t.Q6J("theme",t.DdM(1,k)))}const U=function(){return{"border-radius":"5px",height:"150px",width:"100%"}};function D(e,n){1&e&&(t.TgZ(0,"div",40),t._UZ(1,"ngx-skeleton-loader",39),t.qZA()),2&e&&(t.xp6(1),t.Q6J("theme",t.DdM(1,U)))}const g=function(){return{height:"20px",width:"150px"}},x=function(){return[1,2,3,4,5,6,7,8,9,10]},u=function(){return{height:"20px",width:"70px"}},I=function(){return[1,2,3,5,6]};function S(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"ngx-skeleton-loader",31),t.TgZ(2,"div",32),t.YNc(3,w,2,2,"div",33),t.qZA(),t._UZ(4,"ngx-skeleton-loader",31),t.TgZ(5,"div",32),t.YNc(6,M,2,2,"div",33),t.qZA(),t._UZ(7,"ngx-skeleton-loader",31),t.TgZ(8,"div",34)(9,"div",35)(10,"label"),t._UZ(11,"ngx-skeleton-loader",31),t.qZA(),t.TgZ(12,"label"),t._UZ(13,"ngx-skeleton-loader",31),t.qZA(),t.TgZ(14,"label"),t._UZ(15,"ngx-skeleton-loader",31),t.qZA(),t.TgZ(16,"label"),t._UZ(17,"ngx-skeleton-loader",31),t.qZA(),t.TgZ(18,"label"),t._UZ(19,"ngx-skeleton-loader",31),t.qZA()()(),t.TgZ(20,"div",36)(21,"div",37),t.YNc(22,D,2,2,"div",38),t.qZA()()()),2&e&&(t.xp6(1),t.Q6J("theme",t.DdM(11,g)),t.xp6(2),t.Q6J("ngForOf",t.DdM(12,x)),t.xp6(1),t.Q6J("theme",t.DdM(13,g)),t.xp6(2),t.Q6J("ngForOf",t.DdM(14,x)),t.xp6(1),t.Q6J("theme",t.DdM(15,g)),t.xp6(4),t.Q6J("theme",t.DdM(16,u)),t.xp6(2),t.Q6J("theme",t.DdM(17,u)),t.xp6(2),t.Q6J("theme",t.DdM(18,u)),t.xp6(2),t.Q6J("theme",t.DdM(19,u)),t.xp6(2),t.Q6J("theme",t.DdM(20,u)),t.xp6(3),t.Q6J("ngForOf",t.DdM(21,I)))}const L=function(){return{"background-image":"url(assets/nodata.jpg)"}};function N(e,n){if(1&e&&(t.TgZ(0,"div",41),t._UZ(1,"div",42),t.TgZ(2,"p"),t._uU(3),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.DdM(3,L)),t.xp6(2),t.AsE(" ",o.util.translate("Opps.. nothing found near")," ",o.getAddressName(),"")}}const F=[{path:"",component:(()=>{class e{constructor(o,i,c,r){this.util=o,this.api=i,this.router=c,this.productCart=r,this.apiCalled=!1,this.productList=[],this.haveData=!1,this.getProducts()}getProducts(){this.apiCalled=!1;const o={id:localStorage.getItem("top-products"),lat:localStorage.getItem("lat"),lng:localStorage.getItem("lng")};this.api.post("v1/products/topProducts",o).then(i=>{this.apiCalled=!0,console.log(i),i&&200==i.status&&i.data&&i.data.length?(this.haveData=!0,i.data.forEach(c=>{c.quantity=this.productCart.itemId.includes(c.id)?this.getQuanity(c.id):0}),this.productList=i.data):this.haveData=!1},i=>{console.log(i),this.productList=[],this.haveData=!1,this.router.navigate([""]),this.apiCalled=!0,this.util.apiErrorHandler(i)}).catch(i=>{console.log(i),this.productList=[],this.haveData=!1,this.router.navigate([""]),this.apiCalled=!0,this.util.apiErrorHandler(i)})}ngOnInit(){}getAddressName(){const o=localStorage.getItem("address");return o&&null!=o&&"null"!==o?o.length>30?o.slice(0,30)+"....":o:(localStorage.clear(),"No address")}onProductDetail(o){this.router.navigate(["product-detail",o])}getQuanity(o){return this.productCart.cart.filter(c=>c.id==o)[0].quantity}addToCart(o){console.log(this.productList[o]),0==this.productCart.cart.length||this.productCart.cart[0].freelacer_id==this.productList[o].freelacer_id?(this.productList[o].quantity=1,this.productCart.addItem(this.productList[o])):this.util.errorMessage(this.util.translate("We already have product with other freelancer"))}remove(o){console.log(this.productList[o]),1==this.productList[o].quantity?(this.productList[o].quantity=0,this.productCart.removeItem(this.productList[o].id)):(this.productList[o].quantity=this.productList[o].quantity-1,this.productCart.updateQuantity(this.productList[o].id,this.productList[o].quantity))}add(o){console.log(this.productList[o]),this.productList[o].quantity=this.productList[o].quantity+1,this.productCart.updateQuantity(this.productList[o].id,this.productList[o].quantity)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.f),t.Y36(v.s),t.Y36(m.F0),t.Y36(T.u))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-top-products"]],decls:11,vars:5,consts:[[1,"container"],[1,"my-5"],[1,"h5","ff-bold","f-primary","text-center"],[1,"h4-responsive","ff-bold","text-center"],[1,"row"],["class","col-6 col-md-4 col-lg-3 my-2 px-2",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],["class","no_data",4,"ngIf"],[1,"col-6","col-md-4","col-lg-3","my-2","px-2"],[1,"px-0","rounded","overflow-hidden","shadow-sm","animate","border"],[1,"text-dark"],[1,"product-list","text-center","pb-3"],[1,"bg-img","mb-3",3,"ngStyle","click"],[1,"text-black","ff-medium","px-2","text-overflow","head-text",3,"click"],[1,"d-flex","justify-content-center","align-item-center","mb-2",3,"click"],["fas","","icon","star","size","sm",3,"ngStyle"],[1,"text-muted","ff-medium","pl-2","rf-6","m-0","rf-lg-1"],[1,"d-flex","justify-content-center","align-items-center","mx-3",3,"click"],[1,"h6","mb-0","small","pr-3","text-muted"],[4,"ngIf"],[1,"f-primary","mb-0"],["class","ff-bold head-text",4,"ngIf"],["type","button","mdbBtn","","class","rounded text-white m-0 mt-2 py-2 px-3 btn-color","mdbWavesEffect","",3,"click",4,"ngIf"],["class","qty_flex my-2",4,"ngIf"],[1,"ff-bold","head-text"],["type","button","mdbBtn","","mdbWavesEffect","",1,"rounded","text-white","m-0","mt-2","py-2","px-3","btn-color",3,"click"],[1,"qty_flex","my-2"],[1,"round_btn",3,"click"],["fas","","icon","minus"],[1,"m-0","ff-medium","px-2"],["fas","","icon","plus"],["appearance","line",3,"theme"],[1,"flexed"],[4,"ngFor","ngForOf"],[1,"col-12","normalClass"],[1,"filters"],[1,"col-lg-12"],[1,"row","product_div"],["class","pro_col col-lg-4 col-sm-12 col-md-6 col-xs-12",4,"ngFor","ngForOf"],["appearance","circle",3,"theme"],[1,"pro_col","col-lg-4","col-sm-12","col-md-6","col-xs-12"],[1,"no_data"],[1,"empty",3,"ngStyle"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"h1",3),t._uU(5),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,J,25,26,"div",5),t.qZA()(),t.YNc(8,S,23,22,"div",6),t.TgZ(9,"div",0),t.YNc(10,N,4,4,"div",7),t.qZA()),2&o&&(t.xp6(3),t.Oqu(i.util.translate("Top Products")),t.xp6(2),t.Oqu(i.util.translate("We Providing Best Quality Products")),t.xp6(2),t.Q6J("ngForOf",i.productList),t.xp6(1),t.Q6J("ngIf",0==i.apiCalled),t.xp6(2),t.Q6J("ngIf",0==i.haveData))},dependencies:[p.sg,p.O5,p.PC,l.mT,l.b6,l.Ui,l.XI,f.xr],styles:['@charset "UTF-8";']}),e})()}];let Y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(F),m.Bz]}),e})();var O=s(265);let E=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,Y,O.Q,l.yi.forRoot(),f.hx]}),e})()}}]);