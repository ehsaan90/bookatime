"use strict";(self.webpackChunksalon_web=self.webpackChunksalon_web||[]).push([[280],{8559:(gt,b,c)=>{c.r(b),c.d(b,{ProductCheckoutModule:()=>ht});var f=c(6895),C=c(4553),g=c(5861),_=c(5439),t=c(4650),M=c(7241),Z=c(5830),k=c(4811),p=c(7890),h=c(4006),T=c(5470);const w=["deliveryAddress"],A=["couponModal"],x=["successModal"],N=["stripeModal"],I=["addCardModal"],P=["payPalModal"],q=["id2"];function S(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",o.util.currencySymbol," ",e.original_price," ")}}function U(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",e.original_price," ",o.util.currencySymbol," ")}}function J(r,n){if(1&r&&(t.TgZ(0,"span",131),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",o.util.currencySymbol," ",e.sell_price," ")}}function E(r,n){if(1&r&&(t.TgZ(0,"span",131),t._uU(1),t.qZA()),2&r){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.AsE(" ",e.sell_price," ",o.util.currencySymbol," ")}}function O(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",132)(1,"div",133),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,s=t.oxw();return t.KtG(s.remove(i))}),t._UZ(2,"mdb-icon",134),t.qZA(),t.TgZ(3,"h6",135),t._uU(4),t.qZA(),t.TgZ(5,"div",133),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().index,s=t.oxw();return t.KtG(s.add(i))}),t._UZ(6,"mdb-icon",136),t.qZA()()}if(2&r){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.quantity)}}const y=function(r){return{"background-image":r}};function H(r,n){if(1&r&&(t.TgZ(0,"div",122)(1,"a"),t._UZ(2,"img",123),t.qZA(),t.TgZ(3,"a",124)(4,"h6",125),t._uU(5),t.qZA(),t.TgZ(6,"div",126)(7,"p",127)(8,"del"),t.YNc(9,S,2,2,"span",31),t.YNc(10,U,2,2,"span",31),t.qZA()(),t.TgZ(11,"p",128),t.YNc(12,J,2,2,"span",129),t.YNc(13,E,2,2,"span",129),t.qZA(),t.YNc(14,O,7,1,"div",130),t.qZA()()()),2&r){const e=n.$implicit,o=t.oxw();t.xp6(2),t.Q6J("ngStyle",t.VKq(7,y,"url("+o.api.mediaURL+e.cover+"),url(assets/images/placeholder.jpg)")),t.xp6(3),t.Oqu(e.name),t.xp6(4),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf",o.productCart.itemId.includes(e.id))}}function D(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",137)(1,"div",138)(2,"p",139),t._uU(3),t.qZA(),t.TgZ(4,"div",140)(5,"a",141),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onEditAddress(i.productCart.deliveredAddress))}),t._uU(6),t.qZA()()(),t.TgZ(7,"p",142),t._uU(8),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(3),t.hij(" ",e.addressTitle[e.productCart.deliveredAddress.title]," "),t.xp6(3),t.Oqu(e.util.translate("EDIT")),t.xp6(2),t.HOy(" ",e.productCart.deliveredAddress.address," ",e.productCart.deliveredAddress.house," ",e.productCart.deliveredAddress.landmark," - ",e.productCart.deliveredAddress.pincode,",")}}function Q(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",143)(1,"div",144)(2,"div",138)(3,"p",139),t._uU(4),t.qZA(),t.TgZ(5,"div",140)(6,"a",141),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.onEditAddress(s))}),t._uU(7),t.qZA()()(),t.TgZ(8,"p",142),t._uU(9),t.qZA(),t.TgZ(10,"div",145),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.selectAddress(s))}),t._uU(11),t.qZA()()()}if(2&r){const e=n.$implicit,o=t.oxw();t.xp6(4),t.hij("",o.addressTitle[e.title]," "),t.xp6(3),t.Oqu(o.util.translate("EDIT")),t.xp6(2),t.HOy("",e.house," ",e.address," ",e.landmark," ",e.pincode,""),t.xp6(2),t.hij(" ",o.util.translate("Deliver Here")," ")}}const K=function(r){return{"background-color":r}},v=function(r){return{color:r}};function j(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",146)(1,"a",147),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.savePayment(s.id))}),t._UZ(2,"div",148),t.TgZ(3,"a",149),t._uU(4),t.qZA(),t.TgZ(5,"a",150),t._UZ(6,"i",151),t.qZA()()()}if(2&r){const e=n.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngStyle",t.VKq(5,K,o.paymentId==e.id?"#0b19df":null)),t.xp6(1),t.Q6J("ngStyle",t.VKq(7,y,"url("+o.api.mediaURL+e.cover+"),url(assets/images/placeholder.jpg)")),t.xp6(1),t.Q6J("ngStyle",t.VKq(9,v,o.paymentId==e.id?"white":null)),t.xp6(1),t.hij(" ",e.name,""),t.xp6(2),t.Q6J("ngStyle",t.VKq(11,v,"white"))}}function F(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.grandTotal,"")}}function L(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.grandTotal," ",e.util.currencySymbol,"")}}function Y(r,n){1&r&&t._UZ(0,"i",152)}function z(r,n){1&r&&t._UZ(0,"i",153)}function G(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE(" ",e.util.currecny," ",e.balance," ")}}function R(r,n){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE(" ",e.balance," ",e.util.currecny," ")}}function W(r,n){if(1&r&&(t.TgZ(0,"span",154),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.totalPrice,"")}}function B(r,n){if(1&r&&(t.TgZ(0,"span",154),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.totalPrice," ",e.util.currencySymbol,"")}}function $(r,n){if(1&r&&(t.TgZ(0,"span",155),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," -",e.productCart.discount,"")}}function V(r,n){if(1&r&&(t.TgZ(0,"span",155),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("-",e.productCart.discount," ",e.util.currencySymbol,"")}}function X(r,n){if(1&r&&(t.TgZ(0,"span",154),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.orderTax,"")}}function tt(r,n){if(1&r&&(t.TgZ(0,"span",154),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.orderTax," ",e.util.currencySymbol,"")}}function et(r,n){if(1&r&&(t.TgZ(0,"span",154),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.deliveryCharge,"")}}function ot(r,n){if(1&r&&(t.TgZ(0,"span",154),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.deliveryCharge," ",e.util.currencySymbol,"")}}function it(r,n){if(1&r&&(t.TgZ(0,"span",156),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.productCart.grandTotal,"")}}function rt(r,n){if(1&r&&(t.TgZ(0,"span",156),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.AsE("",e.productCart.grandTotal," ",e.util.currencySymbol,"")}}function st(r,n){if(1&r&&(t.TgZ(0,"h5",82),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.util.translate("Add Delivery Address"),"")}}function at(r,n){if(1&r&&(t.TgZ(0,"h5",82),t._uU(1),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.hij(" ",e.util.translate("Update Delivery Address"),"")}}function nt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",157),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getLatLngFromAddress())}),t._uU(1),t.qZA()}if(2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.util.translate("Add"))}}function lt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"button",157),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getLatLngFromAddress())}),t._uU(1),t.qZA()}if(2&r){const e=t.oxw();t.xp6(1),t.Oqu(e.util.translate("Update"))}}function ct(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div")(1,"div",158)(2,"p")(3,"span",159),t._uU(4),t.qZA(),t._UZ(5,"br"),t.TgZ(6,"span",160),t._uU(7),t.qZA()(),t.TgZ(8,"div",161),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.selectedOffers(s))}),t._uU(9),t.qZA()()()}if(2&r){const e=n.$implicit,o=t.oxw();t.xp6(4),t.Oqu(e.name),t.xp6(3),t.hij("",e.short_descriptions," "),t.xp6(2),t.hij(" ",o.util.translate("Claim Coupon")," ")}}function dt(r,n){if(1&r){const e=t.EpF();t.TgZ(0,"div",162)(1,"input",163),t.NdJ("input",function(){const s=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.saveCard(s.id))}),t.qZA(),t.TgZ(2,"label",164),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()()}if(2&r){const e=n.$implicit,o=t.oxw();t.xp6(1),t.Q6J("id",e.id)("checked",e.id==o.selectedCard),t.xp6(1),t.Q6J("for",e.id),t.xp6(1),t.hij(" **** **** **** ",e.last4," "),t.xp6(2),t.AsE(" ",e.exp_month,"/",e.exp_year," ")}}const d=function(){return{standalone:!0}},ut=[{path:"",component:(()=>{class r{constructor(e,o,i,s,a){this.router=e,this.util=o,this.api=i,this.navParam=s,this.productCart=a,this.checkModel={left:!0,middle:!1,right:!1},this.radioModel="Left",this.addressList=[],this.addressTitle=["Home","Office","Other"],this.addressId=0,this.title="",this.address="",this.house="",this.landmark="",this.zipcode="",this.lat=0,this.lng=0,this.isNewAddress=!0,this.offersList=[],this.productList=[],this.paymentId="",this.payMethodName="",this.freelancerCover="",this.freelancerName="",this.rating="",this.totalRating="",this.cardNumber="",this.cvv="",this.expiryDate="",this.cardHolderName="",this.cardEmail="",this.stripeKey="",this.stripeCardList=[],this.selectedCard="",this.paymentMethodList=[],this.balance=0,this.walletDiscount=0,this.walletCheck=!1,this.ownerType="",this.productCart&&this.productCart.cart&&this.productCart.cart.length>0?setTimeout(()=>{this.getAddress(),this.getPayments(),this.getFreelancerByID(),this.getProfile(),this.getWalletAmount()},1e3):this.router.navigate([""])}getWalletAmount(){this.api.post_private("v1/profile/getMyWalletBalance",{id:localStorage.getItem("uid")}).then(e=>{console.log("------------------",e),e&&e.status&&200==e.status&&e.data&&(this.balance=parseFloat(e.data.balance),this.walletDiscount=parseFloat(e.data.balance),console.log(this.balance,this.walletDiscount))},e=>{console.log(e)}).catch(e=>{console.log(e)})}getFreelancerByID(){this.api.post("v1/freelancer/getByUID",{id:this.productCart.cart[0].freelacer_id}).then(o=>{o&&200==o.status&&(console.log(o),"individual"==o.data.type?(this.freelancerCover=o.data.cover,this.freelancerName=o.data.first_name+" "+o.data.last_name,this.rating=o.data.ownerInfo.rating,this.totalRating=o.data.ownerInfo.total_rating,this.ownerType="individual",this.productCart.storeInfo=o.data.ownerInfo):(this.freelancerCover=o.data.ownerInfo.cover,this.freelancerName=o.data.ownerInfo.name,this.rating=o.data.ownerInfo.rating,this.totalRating=o.data.ownerInfo.total_rating,this.productCart.storeInfo=o.data.ownerInfo,this.ownerType="salon"))},o=>{console.log("Error",o),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.apiErrorHandler(o)})}remove(e){console.log(this.productCart.cart[e]),1==this.productCart.cart[e].quantity?(this.productCart.cart[e].quantity=0,this.removeItem(this.productCart.cart[e].id)):(this.productCart.cart[e].quantity=this.productCart.cart[e].quantity-1,this.productCart.updateQuantity(this.productCart.cart[e].id,this.productCart.cart[e].quantity))}add(e){console.log(this.productCart.cart[e]),this.productCart.cart[e].quantity=this.productCart.cart[e].quantity+1,this.productCart.updateQuantity(this.productCart.cart[e].id,this.productCart.cart[e].quantity)}removeItem(e){console.log("remove this item from cart"),console.log("current cart items",this.productCart.cart),this.productCart.cart=this.productCart.cart.filter(o=>o.id!==e),this.productCart.itemId=this.productCart.itemId.filter(o=>o!==e),console.log("===>>>>>>>>>",this.productCart.cart),console.log("items===>>>",this.productCart.itemId),this.productCart.calcuate(),0==this.productCart.cart.length&&this.router.navigate([""])}getAddress(){const e={id:localStorage.getItem("uid")};this.api.post_private("v1/address/getByUID",e).then(o=>{o&&200==o.status&&(console.log(o),this.addressList=o.data,console.log(this.addressList))},o=>{console.log("Error",o),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.apiErrorHandler(o)})}getLatLngFromAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const e=new google.maps.Geocoder;this.util.start(),e.geocode({address:this.house+" "+this.landmark+" "+this.address+" "+this.zipcode},(o,i)=>{if(console.log(o,i),"OK"!=i||!o||!o.length)return this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong")),!1;this.lat=o[0].geometry.location.lat(),this.lng=o[0].geometry.location.lng(),console.log("-----\x3e",this.lat,this.lng),1==this.isNewAddress?this.saveAddress():this.updateAddress()})}saveAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const e={uid:localStorage.getItem("uid"),title:this.title,address:this.address,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/save",e).then(o=>{o&&200==o.status&&(this.util.stop(),console.log(o),this.deliveryAddress.hide(),this.getAddress(),this.util.suucessMessage(this.util.translate(this.util.translate("Address Added"))))},o=>{console.log("Error",o),this.util.stop(),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.stop(),this.util.apiErrorHandler(o)})}addNewAddress(){this.isNewAddress=!0,this.house="",this.landmark="",this.address="",this.addressId=0,this.zipcode="",this.deliveryAddress.show()}onEditAddress(e){this.addressId=e.id,this.isNewAddress=!1,this.address=e.address,this.house=e.house,this.landmark=e.landmark,this.zipcode=e.pincode,this.title=e.title,this.deliveryAddress.show()}updateAddress(){const e={uid:localStorage.getItem("uid"),title:this.title,address:this.address,id:this.addressId,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/update",e).then(o=>{o&&200==o.status&&(this.util.stop(),this.deliveryAddress.hide(),this.getAddress(),console.log(o),this.util.suucessMessage(this.util.translate("Address Updated")))},o=>{console.log("Error",o),this.util.stop(),this.util.apiErrorHandler(o)}).catch(o=>{console.log("Err",o),this.util.stop(),this.util.apiErrorHandler(o)})}selectAddress(e){console.log(e),this.calculateDistance(e.lat,e.lng,e),this.collapse.toggle()}calculateDistance(e,o,i){var s=this;return(0,g.Z)(function*(){let a;console.log(s.productCart.deliveredAddress),console.log(s.productCart.storeInfo),a=s.productCart.storeInfo&&s.productCart.storeInfo.lat?yield s.distanceInKmBetweenEarthCoordinates(e,o,s.productCart.storeInfo.lat,s.productCart.storeInfo.lng):0,console.log(a,s.util.allowDistance),a>parseFloat(s.util.allowDistance)?s.util.errorMessage(s.util.translate("Sorry we deliver the order near to "+s.util.allowDistance)):(0==s.util.deliveryType?(s.productCart.deliveryCharge=a*s.util.deliveryCharge,s.productCart.deliveredAddress=i):s.productCart.deliveryCharge=s.util.deliveryCharge,s.productCart.deliveryCharge=parseFloat(s.productCart.deliveryCharge).toFixed(2),s.productCart.calculateAllCharges()),console.log("delivery charge",s.productCart.deliveryCharge)})()}distanceInKmBetweenEarthCoordinates(e,o,i,s){console.log(e,o,i,s);const m=this.degreesToRadians(i-e),l=this.degreesToRadians(s-o);e=this.degreesToRadians(e),i=this.degreesToRadians(i);const u=Math.sin(m/2)*Math.sin(m/2)+Math.sin(l/2)*Math.sin(l/2)*Math.cos(e)*Math.cos(i);return 2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))*6371}degreesToRadians(e){return e*Math.PI/180}addCoupon(){this.getActiveOffers(),this.couponModal.show()}removeOffer(){this.productCart.coupon=null,this.productCart.calcuate(),localStorage.removeItem("selectedOffer")}selectedOffers(e){if(this.productCart&&this.productCart.walletDiscount&&this.productCart.walletDiscount>0)return this.util.errorMessage(this.util.translate("Sorry you have already added a wallet discount to cart")),!1;console.log(e,this.productCart.storeInfo);const o=e.freelancer_ids.split(",").map(Number);console.log(o),console.log(o.includes(this.productCart.storeInfo.uid)),o.includes(this.productCart.storeInfo.uid)?(this.productCart.coupon=e,this.productCart.calculateAllCharges(),this.couponModal.hide()):this.util.errorMessage(this.util.translate("This coupon is not valid for ")+this.freelancerName)}walletChange(){if(this.balance<=0||this.productCart.coupon)return!1;if(console.log("ok"),this.walletCheck=!this.walletCheck,1==this.walletCheck){if(this.productCart&&this.productCart.coupon&&this.productCart.coupon.id)return this.util.errorMessage(this.util.translate("Sorry you have already added a offers discount to cart")),this.walletCheck=!1,!1;this.productCart.walletDiscount=parseFloat(this.balance),this.productCart.calcuate()}else this.productCart.walletDiscount=0,this.productCart.calcuate()}getActiveOffers(){this.util.start(),this.api.get_private("v1/offers/getActive").then(e=>{this.util.stop(),e&&200==e.status&&(console.log(e),this.offersList=e.data,console.log(this.offersList))},e=>{console.log("Error",e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log("Err",e),this.util.stop(),this.util.apiErrorHandler(e)})}getPayments(){this.api.get_private("v1/payments/getPayments").then(e=>{e&&200==e.status&&(console.log(e),this.paymentMethodList=e.data,console.log(this.paymentMethodList),this.paymentMethodList.filter(a=>8==a.id).length&&this.util.loadScript("https://checkout.flutterwave.com/v3.js"),this.paymentMethodList.filter(a=>7==a.id).length&&this.util.loadScript("https://js.paystack.co/v1/inline.js"),this.paymentMethodList.filter(a=>5==a.id).length&&this.util.loadScript("https://checkout.razorpay.com/v1/checkout.js"))},e=>{console.log("Error",e),this.util.apiErrorHandler(e)}).catch(e=>{console.log("Err",e),this.util.apiErrorHandler(e)})}savePayment(e){console.log(e),this.paymentId=e,1==this.paymentId?this.payMethodName="cod":2==this.paymentId?this.payMethodName="stripe":3==this.paymentId?this.payMethodName="paypal":4==this.paymentId?this.payMethodName="paytm":5==this.paymentId?this.payMethodName="razorpay":6==this.paymentId?this.payMethodName="instamojo":7==this.paymentId?this.payMethodName="paystack":8==this.paymentId&&(this.payMethodName="flutterwave")}onCheckout(){if(!this.productCart.deliveredAddress||!this.productCart.deliveredAddress.address||!this.productCart.deliveredAddress.lat)return console.log("Please select Address"),this.util.errorMessage(this.util.translate("Please select Address")),!1;0!=this.paymentId?1==this.paymentId?this.createOrder("COD"):2==this.paymentId?this.stripeModal.show():3==this.paymentId?this.payPalWebPay():4==this.paymentId?this.payTmWeb():5==this.paymentId?this.razoryPayWeb():6==this.paymentId?this.payWithInstaMOJOWeb():7==this.paymentId?this.paystackWeb():8==this.paymentId&&this.flutterwaveWeb():this.util.errorMessage(this.util.translate("Please select payment method"))}createOrder(e){var o=this;return(0,g.Z)(function*(){console.log(o.address);const i={uid:localStorage.getItem("uid"),freelancer_id:"individual"==o.ownerType?o.productCart.cart[0].freelacer_id:0,salon_id:"salon"==o.ownerType?o.productCart.cart[0].freelacer_id:0,date_time:_().format().split("T")[0],paid_method:o.paymentId,order_to:"home",orders:JSON.stringify(o.productCart.cart),notes:"NA",address:JSON.stringify(o.productCart.deliveredAddress),total:o.productCart.totalPrice,tax:o.productCart.orderTax,grand_total:o.productCart.grandTotal,discount:o.productCart.discount,driver_id:0,delivery_charge:o.productCart.deliveryCharge,wallet_used:1==o.walletCheck&&o.walletDiscount>0?1:0,wallet_price:1==o.walletCheck&&o.walletDiscount>0?o.walletDiscount:0,coupon_id:o.productCart&&o.productCart.coupon&&o.productCart.coupon.id?o.productCart.coupon.id:"NA",coupon_code:o.productCart&&o.productCart.coupon&&o.productCart.coupon.id?JSON.stringify(o.productCart.coupon):"NA",extra:"NA",pay_key:e,status:0,payStatus:1};console.log("param-----\x3e",i),o.util.start(),o.api.post_private("v1/product_order/save",i).then(s=>{s&&200==s.status&&(o.util.stop(),console.log(s),o.productCart.clearCart(),o.successModal.show())},s=>{console.log("Error",s),o.util.stop(),o.util.apiErrorHandler(s)}).catch(s=>{console.log("Err",s),o.util.stop(),o.util.apiErrorHandler(s)})})()}addNewCard(){this.stripeModal.hide(),this.addCardModal.show()}getProfile(){this.api.post_private("v1/profile/getByID",{id:localStorage.getItem("uid")}).then(e=>{console.log("profile",e),e&&200==e.status&&e.data&&e.data.id&&(this.cardEmail=e.data.email,this.stripeKey=e.data.stripe_key,console.log("i am stripeeeeeeeeeeeeee",this.stripeKey),this.stripeKey&&null!=this.stripeKey&&this.getStripeCard())},e=>{console.log(e),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(e=>{console.log(e),this.util.errorMessage(this.util.translate("Something went wrong"))})}submitData(){if(""==this.cardNumber||""==this.cvv||""==this.expiryDate||""==this.cardHolderName||""==this.cardEmail)return this.util.errorMessage(this.util.translate("Something went wrong")),!1;const e={number:this.cardNumber,exp_month:_(this.expiryDate).format("MM"),exp_year:_(this.expiryDate).format("YYYY"),cvc:this.cvv,email:this.cardEmail};this.util.start(),console.log("constant",e),this.api.post_private("v1/payments/createStripeToken",e).then(o=>{console.log(o),this.util.stop(),o&&o.status&&200==o.status&&o.success&&o.success.id?(console.log(""!=this.stripeKey&&this.stripeKey&&null!=this.stripeKey),""!=this.stripeKey&&this.stripeKey&&null!=this.stripeKey?this.addStripe(o.success.id):this.createCustomer(o.success.id)):this.util.errorMessage(this.util.translate("Something went wrong"))},o=>{console.log(o),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(o=>{console.log(o),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}addStripe(e){const o={token:e,id:this.stripeKey};this.util.start(),this.api.post_private("v1/payments/addStripeCards",o).then(i=>{this.util.suucessMessage(this.util.translate("Card Information Saved")),this.util.stop(),this.addCardModal.hide(),this.stripeModal.show(),this.getStripeCard()},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}createCustomer(e){this.util.start(),this.api.post_private("v1/payments/createCustomer",{email:this.cardEmail,source:e}).then(i=>{this.util.stop(),console.log("customer id",i),i&&200==i.status&&(this.stripeKey=i.success.id,this.updateUserStripeKey(i.success.id))},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}updateUserStripeKey(e){const o={id:localStorage.getItem("uid"),stripe_key:e};this.util.start(),this.api.post_private("v1/profile/update",o).then(i=>{this.util.stop(),this.util.suucessMessage(this.util.translate("Card Information Saved")),this.addCardModal.hide(),this.stripeModal.show(),this.getStripeCard()},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}getStripeCard(){this.api.post_private("v1/payments/getStripeCards",{id:this.stripeKey}).then(e=>{console.log(e),e&&200==e.status&&(this.stripeCardList=e.success.data,console.log(this.stripeCardList))},e=>{console.log(e),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(e=>{console.log(e),this.util.errorMessage(this.util.translate("Something went wrong"))})}saveCard(e){this.selectedCard=e}createPayment(){""!=this.selectedCard?(this.stripeModal.hide(),this.makePayment()):this.util.errorMessage(this.util.translate("Please Select Card"))}makePayment(){var e=this.paymentMethodList.filter(i=>i.id==this.paymentId);if(console.log(e),e.length>0){var o={amount:parseInt(this.productCart.grandTotal),currency:e[0].currency_code,customer:this.stripeKey,card:this.selectedCard};this.util.start(),this.api.post_private("v1/payments/createStripePayments",o).then(i=>{this.util.stop(),console.log(i),i&&200==i.status&&i.success&&i.success.id&&this.createOrder(JSON.stringify(i.success))},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}}payPalWebPay(){var e=this;this.util.start(),this.api.get_private("v1/getPayPalKey").then(function(){var o=(0,g.Z)(function*(i){if(console.log(i),e.util.stop(),i&&i.status&&200==i.status&&i.data){const s=e.paymentMethodList.filter(a=>a.id==e.paymentId);console.log(s),e.payPalModal.show(),e.initConfig(s[0].currency_code,i.data)}});return function(i){return o.apply(this,arguments)}}(),o=>{console.log(o),this.util.stop(),this.util.apiErrorHandler(o)}).catch(o=>{console.log(o),this.util.stop(),this.util.apiErrorHandler(o)})}initConfig(e,o){this.payPalConfig={currency:e,clientId:o,createOrderOnClient:i=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:e,value:this.productCart.grandTotal,breakdown:{item_total:{currency_code:e,value:this.productCart.grandTotal}}}}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(i,s)=>{console.log("onApprove - transaction was approved, but not authorized",i,s),s.order.get().then(a=>{console.log("onApprove - you can get full order details inside onApprove: ",a)})},onClientAuthorization:i=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",i),this.payPalModal.hide(),this.createOrder(JSON.stringify(i))},onCancel:(i,s)=>{console.log("OnCancel",i,s)},onError:i=>{console.log("OnError",i)},onClick:(i,s)=>{console.log("onClick",i,s)}}}razoryPayWeb(){this.util.start(),this.api.get_private("v1/getRazorPayKey").then(e=>{if(console.log(e),this.util.stop(),e&&e.status&&200==e.status&&e.data){const s=this.paymentMethodList.filter(a=>a.id==this.paymentId);console.log(s);var o={amount:this.productCart.grandTotal?100*this.productCart.grandTotal:5,email:this.getEmail(),logo:this.util&&this.util.logo?this.api.mediaURL+this.util.logo:"null",name:this.getName(),app_color:this.util&&this.util.app_color?this.util.app_color:"#f47878",key:e.data,currency:s[0].currency_code,description:this.util.app_name+" Order Of "+this.productCart.grandTotal+" amount",handler:a=>{console.log(a),this.verifyPurchaseRazorPay(a.razorpay_payment_id)}};console.log(o),new Razorpay(o).open()}},e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)})}verifyPurchaseRazorPay(e){this.util.start(),this.api.get_private("v1/payments/VerifyRazorPurchase?id="+e).then(o=>{console.log(o),o&&o.status&&200==o.status&&o.success&&o.success.status&&"captured"==o.success.status?(this.util.stop(),this.createOrder(JSON.stringify(o.success))):(this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator")))},o=>{console.log(o),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}).catch(o=>{console.log(o),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))})}flutterwaveWeb(){this.util.start(),this.api.get_private("v1/getFlutterwaveKey").then(e=>{if(console.log(e),this.util.stop(),e&&e.status&&200==e.status&&e.data){const o=this.paymentMethodList.filter(i=>i.id==this.paymentId);console.log(o),FlutterwaveCheckout({public_key:e.data,tx_ref:""+Math.floor(1e9*Math.random()+1),amount:this.productCart.grandTotal,currency:o[0].currency_code,payment_options:"card, mobilemoneyghana, ussd",meta:{consumer_id:23,consumer_mac:"92a3-912ba-1192a"},customer:{email:this.getEmail(),phone_number:localStorage.getItem("mobile"),name:this.getName()},callback:i=>{console.log(i),document.getElementsByName("checkout")[0].setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),document.body.style.overflow="",this.createOrder(JSON.stringify(i))},onclose:i=>{console.log("closed",i)},customizations:{title:this.util.app_name,description:this.util.app_name+" Order",logo:this.api.mediaURL+this.util.logo}})}},e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)})}paystackWeb(){this.util.start(),this.api.get_private("v1/getPaystackKey").then(e=>{if(console.log(e),this.util.stop(),e&&e.status&&200==e.status&&e.data){const o=this.paymentMethodList.filter(s=>s.id==this.paymentId);console.log(o),PaystackPop.setup({key:e.data,currency:o[0].currency_code,email:this.getEmail(),amount:100*this.productCart.grandTotal,firstname:this.getFirstName(),lastname:this.getLastName(),ref:""+Math.floor(1e9*Math.random()+1),onClose:()=>{console.log("closed")},callback:s=>{console.log(s),this.createOrder(s.reference)}}).openIframe()}},e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.util.stop(),this.util.apiErrorHandler(e)})}payTmWeb(){var e=this;return(0,g.Z)(function*(){const o={uid:localStorage.getItem("uid"),freelancer_id:"individual"==e.ownerType?e.productCart.cart[0].freelacer_id:0,salon_id:"salon"==e.ownerType?e.productCart.cart[0].freelacer_id:0,date_time:_().format().split("T")[0],paid_method:e.paymentId,order_to:"home",orders:JSON.stringify(e.productCart.cart),notes:"NA",address:JSON.stringify(e.productCart.deliveredAddress),total:e.productCart.totalPrice,tax:e.productCart.orderTax,grand_total:e.productCart.grandTotal,discount:e.productCart.discount,driver_id:0,delivery_charge:e.productCart.deliveryCharge,wallet_used:1==e.walletCheck&&e.walletDiscount>0?1:0,wallet_price:1==e.walletCheck&&e.walletDiscount>0?e.walletDiscount:0,coupon_id:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?e.productCart.coupon.id:"NA",coupon_code:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?JSON.stringify(e.productCart.coupon):"NA",extra:"NA",pay_key:"NA",status:8,payStatus:1};console.log("param-----\x3e",o),e.util.start(),e.api.post_private("v1/product_order/save",o).then(i=>{if(console.log(i),e.util.stop(),i&&i.status&&200==i.status&&i.data&&i.data.id){const a={queryParams:{id:i.data.id,payLink:e.api.baseUrl+"v1/payProductWeb?amount="+e.productCart.grandTotal+"&standby_id="+i.data.id}};e.productCart.clearCart(),e.router.navigate(["/await-payments-product"],a)}},i=>{console.log(i),e.util.stop(),e.util.apiErrorHandler(i)}).catch(i=>{console.log(i),e.util.stop(),e.util.apiErrorHandler(i)})})()}payWithInstaMOJOWeb(){var e=this;return(0,g.Z)(function*(){const o={uid:localStorage.getItem("uid"),freelancer_id:"individual"==e.ownerType?e.productCart.cart[0].freelacer_id:0,salon_id:"salon"==e.ownerType?e.productCart.cart[0].freelacer_id:0,date_time:_().format().split("T")[0],paid_method:e.paymentId,order_to:"home",orders:JSON.stringify(e.productCart.cart),notes:"NA",address:JSON.stringify(e.productCart.deliveredAddress),total:e.productCart.totalPrice,tax:e.productCart.orderTax,grand_total:e.productCart.grandTotal,discount:e.productCart.discount,driver_id:0,delivery_charge:e.productCart.deliveryCharge,wallet_used:1==e.walletCheck&&e.walletDiscount>0?1:0,wallet_price:1==e.walletCheck&&e.walletDiscount>0?e.walletDiscount:0,coupon_id:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?e.productCart.coupon.id:"NA",coupon_code:e.productCart&&e.productCart.coupon&&e.productCart.coupon.id?JSON.stringify(e.productCart.coupon):"NA",extra:"NA",pay_key:"NA",status:8,payStatus:1};console.log("param-----\x3e",o),e.util.start(),e.api.post_private("v1/product_order/save",o).then(i=>{if(console.log(i),e.util.stop(),i&&i.status&&200==i.status&&i.data&&i.data.id){const a=i.data.id,m={allow_repeated_payments:"False",amount:e.productCart.grandTotal,buyer_name:e.getName(),purpose:e.util.app_name+" Orders",redirect_url:e.api.baseUrl+"v1/instaMOJOWebSuccess?id="+a,phone:localStorage.getItem("mobile")&&null!=localStorage.getItem("mobile")?localStorage.getItem("mobile"):"",send_email:"True",webhook:e.api.baseUrl,send_sms:"True",email:e.getEmail()};e.util.start(),e.api.post_private("v1/payments/instamojoPay",m).then(l=>{if(console.log("instamojo response",l),e.util.stop(),l&&l.status&&200==l.status&&l.success&&1==l.success.success){const u={queryParams:{id:a,payLink:l.success.payment_request.longurl}};e.productCart.clearCart(),e.router.navigate(["/await-payments-product"],u)}else{const u=JSON.parse(l.error);if(console.log("error message",u),u&&u.message)return e.util.errorMessage(u.message),!1;e.util.errorMessage(e.util.translate("Something went wrong while payments. please contact administrator"))}},l=>{console.log(l),e.util.stop(),e.util.apiErrorHandler(l)}).catch(l=>{console.log(l),e.util.stop(),e.util.apiErrorHandler(l)})}},i=>{console.log(i),e.util.stop(),e.util.apiErrorHandler(i)}).catch(i=>{console.log(i),e.util.stop(),e.util.apiErrorHandler(i)})})()}ngOnInit(){}onOrderHistory(){this.successModal.hide();const e=(this.util.userInfo.first_name+"-"+this.util.userInfo.last_name).toLowerCase();this.router.navigate(["user",e,"product-order"])}onHome(){this.successModal.hide(),this.router.navigate(["welcome"])}getName(){return null!=localStorage.getItem("lastName")&&""!=localStorage.getItem("lastName")?localStorage.getItem("firstName")+" "+localStorage.getItem("lastName"):"Foodies"}getEmail(){return null!=localStorage.getItem("email")&&localStorage.getItem("email")?localStorage.getItem("email"):"info@initappz.com"}getFirstName(){return localStorage.getItem("firstName")&&null!=localStorage.getItem("firstName")?localStorage.getItem("firstName"):""}getLastName(){return localStorage.getItem("lastName")&&null!=localStorage.getItem("lastName")?localStorage.getItem("lastName"):""}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(C.F0),t.Y36(M.f),t.Y36(Z.s),t.Y36(C.gz),t.Y36(k.u))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-checkout"]],viewQuery:function(e,o){if(1&e&&(t.Gf(w,7),t.Gf(A,7),t.Gf(x,7),t.Gf(N,7),t.Gf(I,7),t.Gf(P,5),t.Gf(q,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.deliveryAddress=i.first),t.iGM(i=t.CRH())&&(o.couponModal=i.first),t.iGM(i=t.CRH())&&(o.successModal=i.first),t.iGM(i=t.CRH())&&(o.stripeModal=i.first),t.iGM(i=t.CRH())&&(o.addCardModal=i.first),t.iGM(i=t.CRH())&&(o.payPalModal=i.first),t.iGM(i=t.CRH())&&(o.collapse=i.first)}},decls:242,vars:107,consts:[[1,"main-content","bg-light","p-1"],[1,"py-4","service-main-body"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"pb-3"],[1,"bg-white","border-0","p-0"],[1,"mb-0","ff-medium","shadow-sm"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","btn-block","px-3","py-4","m-0",3,"click"],[1,"c-number"],["mdbCollapse","",3,"isCollapsed"],["id1","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm","service-cart"],[1,"cart-items","bg-white","p-3"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"mb-0","mt-2","ff-medium","shadow-sm"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","ff-medium","btn-block","px-3","py-4","m-0",3,"click"],[1,"ff-medium","f-primary","text-right","w-75","mr-2",3,"click"],["class","p-3 border bg-white rounded shadow-sm m-3",4,"ngIf"],["mdbCollapse",""],["id2","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm"],[1,"p-3","row"],["class","col-lg-6 mb-1 ",4,"ngFor","ngForOf"],["id4","bs-collapse"],[1,"mt-2"],["class","payment-list d-block",4,"ngFor","ngForOf"],[1,"pt-4"],["type","button","mdbBtn","","mdbWavesEffect","",1,"rounded","text-white","m-0","btn-color","btn-block",3,"click"],[1,"m-0","text-capitalize","ff-medium"],[4,"ngIf"],[1,"m-0","text-capitalize"],[1,"col-lg-4"],[1,"sticky_sidebar"],[1,"pd","bg-white","rounded","overflow-hidden","shadow-sm","mb-3","checkout-sidebar"],[1,"d-flex","align-items-center","profile","border-bottom","bg-white","p-3"],[1,"mr-2","rounded-circle","img-fluid",3,"ngStyle"],[1,"d-flex","flex-column"],[1,"mb-1","ff-bold"],[1,"apply-coupon","mx-3",3,"click"],["fas","","icon","tags",1,"prefix","grey-text","pr-1"],[1,"wallet_box",3,"ngStyle"],[1,"head_lbl"],[1,"checkmark",3,"click"],["class","fas fa-check-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"bg-white","px-3","py-2"],[1,"ff-bold","small"],[1,"mb-1"],["class","float-right text-dark",4,"ngIf"],["class","float-right text-danger",4,"ngIf"],[1,"p-3","border-top"],[1,"m-0","ff-medium","h5"],["class","float-right ff-medium h5 f-primary",4,"ngIf"],["mdbModal","","id","deliveryAddressModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","999999"],["deliveryAddress","mdbModal"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header","text-center"],["class","modal-title w-100 ff-medium",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","mx-3"],[1,"md-form","mb-5"],["type","text","id","form34","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form34"],["type","text","id","form29","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form29"],["type","text","id","form32","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form32"],[1,"md-form"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","0","selected",""],["value","1"],["value","2"],[1,"modal-footer","d-flex","justify-content-center"],["mdbBtn","","color","light","mdbWavesEffect","",1,"waves-light","btn-color","text-dark",3,"click"],["mdbBtn","","class","waves-light btn-color text-white","mdbWavesEffect","",3,"click",4,"ngIf"],["mdbModal","","id","couponModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","right",2,"z-index","999999"],["couponModal","mdbModal"],["role","document",1,"modal-dialog","modal-full-height","modal-right"],[1,"modal-title","w-100","ff-medium"],[1,"modal-body"],[4,"ngFor","ngForOf"],["mdbModal","","tabindex","-1","role","dialog","aria-labelledby","myBasicModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999"],["successModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-success","modal-dialog-scrollable"],[1,"modal-title","w-100","ff-medium","text-white"],["aria-hidden","true",1,"white-text"],[1,"text-center","confirm-modal"],["src","assets/images/logo.png","alt","",2,"height","100px","width","100px"],[1,"confirm-text","mt-2"],[1,"modal-footer","justify-content-center"],["type","button","mdbBtn","","color","success","outline","true","mdbWavesEffect","",1,"waves-effect",3,"click"],["type","button","mdbBtn","","color","success","mdbWavesEffect","",1,"waves-effect",3,"click"],["mdbModal","","id","addCardModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","999999"],["addCardModal","mdbModal"],["id","cnum","type","tel","autocomplete","cc-number","ccNumber","","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","cnum"],["id","cvc","type","tel","autocomplete","off","ccCvc","","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","cvc"],["id","date","type","date","autocomplete","cc-exp","ccExp","","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","date"],["type","text","id","cname","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","cname"],["type","email","id","email","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","email"],["type","button","mdbBtn","","mdbWavesEffect","",1,"waves-light","btn-color","text-white",3,"click"],["type","button","mdbBtn","","color","light","mdbWavesEffect","","data-dismiss","modal",1,"waves-light","shadow-none","btn-color","text-dark",3,"click"],["stripeModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-warning","modal-dialog-scrollable"],[1,"modal-header"],[1,"heading","lead"],["class","custom-control custom-radio del-type mb-4",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","warning","outline","true","mdbWavesEffect","",1,"waves-effect",3,"click"],["type","button","mdbBtn","","color","warning","mdbWavesEffect","",1,"waves-effect",3,"click"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","99999"],["payPalModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-danger","modal-dialog-scrollable"],[1,"heading","lead",2,"text-align","center"],[3,"config"],[1,"d-flex","align-items-center","mb-3"],[1,"img-fluid",3,"ngStyle"],[1,"ml-3","text-dark","text-decoration-none","w-100"],[1,"h6","mb-1","ff-bold"],[1,"d-flex","align-items-center"],[1,"h6","text-muted","m-0","mr-3","small"],[1,"head-text","ff-medium","f-primary","m-0"],["class","ff-medium head-text",4,"ngIf"],["class","qty_flex d-flex ml-auto align-items-center",4,"ngIf"],[1,"ff-medium","head-text"],[1,"qty_flex","d-flex","ml-auto","align-items-center"],[1,"round_btn",3,"click"],["fas","","icon","minus"],[1,"m-0","ff-medium","px-1"],["fas","","icon","plus"],[1,"p-3","border","bg-white","rounded","shadow-sm","m-3"],[1,"d-flex","align-items-center","mb-2"],[1,"h6","mb-1","f-primary","ff-bold"],[1,"d-flex","ml-auto"],[1,"f-primary","small",3,"click"],[1,"text-muted","m-0","mt-2","small"],[1,"col-lg-6","mb-1"],[1,"p-3","border","bg-white","rounded","shadow-sm","w-100"],[1,"outline-btn","mt-2",3,"click"],[1,"payment-list","d-block"],[1,"payment-name","mt-3","py-1","text-start","pl-3","d-flex","align-items-center","border",3,"ngStyle","click"],[1,"payment-img",3,"ngStyle"],[1,"text-center","pl-3",3,"ngStyle"],[1,"ml-auto","pr-3"],[1,"far","fa-check-circle",3,"ngStyle"],[1,"fas","fa-check-circle"],[1,"far","fa-circle"],[1,"float-right","text-dark"],[1,"float-right","text-danger"],[1,"float-right","ff-medium","h5","f-primary"],["mdbBtn","","mdbWavesEffect","",1,"waves-light","btn-color","text-white",3,"click"],[1,"border","p-3"],[1,"ff-bold","h6"],[1,"text-muted","pt-2"],[1,"outline-btn",3,"click"],[1,"custom-control","custom-radio","del-type","mb-4"],["type","radio","name","defaultExampleRadios","mdbInput","",1,"custom-control-input",3,"id","checked","input"],[1,"custom-control-label",3,"for"]],template:function(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(13);return t.KtG(a.toggle())}),t.TgZ(9,"span",9),t._uU(10,"1"),t.qZA(),t._uU(11),t.qZA()(),t.TgZ(12,"div",10,11)(14,"div",12)(15,"div",13),t.YNc(16,H,15,9,"div",14),t.qZA()()()()(),t.TgZ(17,"div",5)(18,"div",6)(19,"div",15)(20,"div",16)(21,"button",17),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(29);return t.KtG(a.toggle())}),t.TgZ(22,"span",9),t._uU(23,"2"),t.qZA(),t._uU(24),t.qZA(),t.TgZ(25,"a",18),t.NdJ("click",function(){return o.addNewAddress()}),t._uU(26),t.qZA()(),t.YNc(27,D,9,6,"div",19),t.qZA(),t.TgZ(28,"div",20,21)(30,"div",22)(31,"div",23),t.YNc(32,Q,12,7,"div",24),t.qZA()()()()(),t.TgZ(33,"div",5)(34,"div",6)(35,"div",15)(36,"button",8),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(41);return t.KtG(a.toggle())}),t.TgZ(37,"span",9),t._uU(38,"3"),t.qZA(),t._uU(39),t.qZA()(),t.TgZ(40,"div",20,25)(42,"div",22)(43,"div",13)(44,"div",26),t.YNc(45,j,7,13,"div",27),t.qZA(),t.TgZ(46,"div",28)(47,"button",29),t.NdJ("click",function(){return o.onCheckout()}),t.TgZ(48,"div")(49,"div")(50,"h6",30),t._uU(51),t.YNc(52,F,2,2,"span",31),t.YNc(53,L,2,2,"span",31),t.qZA(),t.TgZ(54,"p",32),t._uU(55),t.qZA()()()()()()()()()()(),t.TgZ(56,"div",33)(57,"div",34)(58,"div",35)(59,"div",36),t._UZ(60,"div",37),t.TgZ(61,"div",38)(62,"h6",39),t._uU(63),t.qZA()()(),t.TgZ(64,"div")(65,"div",40),t.NdJ("click",function(){return o.addCoupon()}),t.TgZ(66,"div"),t._UZ(67,"mdb-icon",41),t._uU(68),t.qZA()(),t.TgZ(69,"div",42)(70,"label",43),t._uU(71),t.qZA(),t.TgZ(72,"div",44),t.NdJ("click",function(){return o.walletChange()}),t.YNc(73,Y,1,0,"i",45),t.YNc(74,z,1,0,"i",46),t._uU(75),t.YNc(76,G,2,2,"span",31),t.YNc(77,R,2,2,"span",31),t.qZA()(),t.TgZ(78,"div",47)(79,"p",48),t._uU(80),t.qZA(),t.TgZ(81,"p",49),t._uU(82),t.YNc(83,W,2,2,"span",50),t.YNc(84,B,2,2,"span",50),t.qZA(),t.TgZ(85,"p",49),t._uU(86),t.YNc(87,$,2,2,"span",51),t.YNc(88,V,2,2,"span",51),t.qZA(),t.TgZ(89,"p",49),t._uU(90),t.YNc(91,X,2,2,"span",50),t.YNc(92,tt,2,2,"span",50),t.qZA(),t.TgZ(93,"p",49),t._uU(94),t.YNc(95,et,2,2,"span",50),t.YNc(96,ot,2,2,"span",50),t.qZA()(),t.TgZ(97,"div",52)(98,"h6",53),t._uU(99),t.YNc(100,it,2,2,"span",54),t.YNc(101,rt,2,2,"span",54),t.qZA()()()()()()()()()(),t.TgZ(102,"div",55,56)(104,"div",57)(105,"div",58)(106,"div",59),t.YNc(107,st,2,1,"h5",60),t.YNc(108,at,2,1,"h5",60),t.TgZ(109,"button",61),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(103);return t.KtG(a.hide())}),t.TgZ(110,"span",62),t._uU(111,"\xd7"),t.qZA()()(),t.TgZ(112,"div",63)(113,"div",64)(114,"input",65),t.NdJ("ngModelChange",function(a){return o.house=a}),t.qZA(),t.TgZ(115,"label",66),t._uU(116),t.qZA()(),t.TgZ(117,"div",64)(118,"input",65),t.NdJ("ngModelChange",function(a){return o.address=a}),t.qZA(),t.TgZ(119,"label",66),t._uU(120),t.qZA()(),t.TgZ(121,"div",64)(122,"input",67),t.NdJ("ngModelChange",function(a){return o.landmark=a}),t.qZA(),t.TgZ(123,"label",68),t._uU(124),t.qZA()(),t.TgZ(125,"div",64)(126,"input",69),t.NdJ("ngModelChange",function(a){return o.zipcode=a}),t.qZA(),t.TgZ(127,"label",70),t._uU(128),t.qZA()(),t.TgZ(129,"div",71)(130,"select",72),t.NdJ("ngModelChange",function(a){return o.title=a}),t.TgZ(131,"option",73),t._uU(132),t.qZA(),t.TgZ(133,"option",74),t._uU(134),t.qZA(),t.TgZ(135,"option",75),t._uU(136),t.qZA()()()(),t.TgZ(137,"div",76)(138,"button",77),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(103);return t.KtG(a.hide())}),t._uU(139),t.qZA(),t.YNc(140,nt,2,1,"button",78),t.YNc(141,lt,2,1,"button",78),t.qZA()()()(),t.TgZ(142,"div",79,80)(144,"div",81)(145,"div",58)(146,"div",59)(147,"h6",82),t._uU(148),t.qZA(),t.TgZ(149,"button",61),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(143);return t.KtG(a.hide())}),t.TgZ(150,"span",62),t._uU(151,"\xd7"),t.qZA()()(),t.TgZ(152,"div",83),t.YNc(153,ct,10,3,"div",84),t.qZA()()()(),t.TgZ(154,"div",85,86)(156,"div",87)(157,"div",58)(158,"div",59)(159,"h6",88),t._uU(160),t.qZA(),t.TgZ(161,"button",61),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(155);return t.KtG(a.hide())}),t.TgZ(162,"span",89),t._uU(163,"\xd7"),t.qZA()()(),t.TgZ(164,"div",83)(165,"div",90),t._UZ(166,"img",91),t.TgZ(167,"h6",92),t._uU(168),t.qZA()()(),t.TgZ(169,"div",93)(170,"a",94),t.NdJ("click",function(){return o.onHome()}),t._uU(171),t.qZA(),t.TgZ(172,"a",95),t.NdJ("click",function(){return o.onOrderHistory()}),t._uU(173),t.qZA()()()()(),t.TgZ(174,"div",96,97)(176,"div",57)(177,"div",58)(178,"div",59)(179,"h5",82),t._uU(180),t.qZA(),t.TgZ(181,"button",61),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(175);return t.KtG(a.hide())}),t.TgZ(182,"span",62),t._uU(183,"\xd7"),t.qZA()()(),t.TgZ(184,"div",83)(185,"div")(186,"div",71)(187,"input",98),t.NdJ("ngModelChange",function(a){return o.cardNumber=a}),t.qZA(),t.TgZ(188,"label",99),t._uU(189),t.qZA()(),t.TgZ(190,"div",71)(191,"input",100),t.NdJ("ngModelChange",function(a){return o.cvv=a}),t.qZA(),t.TgZ(192,"label",101),t._uU(193),t.qZA()(),t.TgZ(194,"div",71)(195,"input",102),t.NdJ("ngModelChange",function(a){return o.expiryDate=a}),t.qZA(),t.TgZ(196,"label",103),t._uU(197),t.qZA()(),t.TgZ(198,"div",71)(199,"input",104),t.NdJ("ngModelChange",function(a){return o.cardHolderName=a}),t.qZA(),t.TgZ(200,"label",105),t._uU(201),t.qZA()(),t.TgZ(202,"div",71)(203,"input",106),t.NdJ("ngModelChange",function(a){return o.cardEmail=a}),t.qZA(),t.TgZ(204,"label",107),t._uU(205),t.qZA()()()(),t.TgZ(206,"div",93)(207,"a",108),t.NdJ("click",function(){return o.submitData()}),t._uU(208),t.qZA(),t.TgZ(209,"a",109),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(175);return t.KtG(a.hide())}),t._uU(210),t.qZA()()()()(),t.TgZ(211,"div",85,110)(213,"div",111)(214,"div",58)(215,"div",112)(216,"p",113),t._uU(217),t.qZA(),t.TgZ(218,"button",61),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(212);return t.KtG(a.hide())}),t.TgZ(219,"span",89),t._uU(220,"\xd7"),t.qZA()()(),t.TgZ(221,"div",83),t.YNc(222,dt,6,6,"div",114),t.qZA(),t.TgZ(223,"div",93)(224,"a",115),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(212);return t.KtG(a.hide())}),t._uU(225),t.qZA(),t.TgZ(226,"a",116),t.NdJ("click",function(){return o.addNewCard()}),t._uU(227),t.qZA(),t.TgZ(228,"a",116),t.NdJ("click",function(){return o.createPayment()}),t._uU(229),t.qZA()()()()(),t.TgZ(230,"div",117,118)(232,"div",119)(233,"div",58)(234,"div",112)(235,"p",120),t._uU(236),t.qZA(),t.TgZ(237,"button",61),t.NdJ("click",function(){t.CHM(i);const a=t.MAs(231);return t.KtG(a.hide())}),t.TgZ(238,"span",89),t._uU(239,"\xd7"),t.qZA()()(),t.TgZ(240,"div",83),t._UZ(241,"ngx-paypal",121),t.qZA()()()()}2&e&&(t.xp6(11),t.lnq("",o.util.translate("Cart")," (",o.productCart.totalItemsInCart," ",o.util.translate("items"),") "),t.xp6(1),t.Q6J("isCollapsed",!1),t.xp6(4),t.Q6J("ngForOf",o.productCart.cart),t.xp6(8),t.hij("",o.util.translate("Address")," "),t.xp6(2),t.hij(" ",o.util.translate("+Add New Address")," "),t.xp6(1),t.Q6J("ngIf",o.productCart&&o.productCart.deliveredAddress&&o.productCart.deliveredAddress.address),t.xp6(5),t.Q6J("ngForOf",o.addressList),t.xp6(7),t.hij("",o.util.translate("Payment")," "),t.xp6(6),t.Q6J("ngForOf",o.paymentMethodList),t.xp6(6),t.hij(" ",o.util.translate("Grand Total")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Proceed to Checkout")," "),t.xp6(5),t.Q6J("ngStyle",t.VKq(94,y,"url("+o.api.mediaURL+o.freelancerCover+"),url(assets/images/placeholder.jpg)")),t.xp6(3),t.Oqu(o.freelancerName),t.xp6(5),t.hij(" ",o.util.translate("Apply Coupon")," "),t.xp6(1),t.Q6J("ngStyle",t.VKq(96,v,o.balance<=0||o.productCart.coupon?"gray":"black")),t.xp6(2),t.AsE("",o.util.app_name," ",o.util.translate("Wallet Balance")," "),t.xp6(2),t.Q6J("ngIf",1==o.walletCheck),t.xp6(1),t.Q6J("ngIf",0==o.walletCheck),t.xp6(1),t.hij(" ",o.util.translate("Available Balance")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.cside),t.xp6(1),t.Q6J("ngIf","right"==o.util.cside),t.xp6(3),t.Oqu(o.util.translate("Bill Details")),t.xp6(2),t.hij(" ",o.util.translate("Service Total")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Total Discount")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Taxes and Charges")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(2),t.hij(" ",o.util.translate("Distance Charge")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(3),t.hij("",o.util.translate("To Pay")," "),t.xp6(1),t.Q6J("ngIf","left"==o.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==o.util.currencySide),t.xp6(6),t.Q6J("ngIf",1==o.isNewAddress),t.xp6(1),t.Q6J("ngIf",0==o.isNewAddress),t.xp6(6),t.Q6J("ngModel",o.house)("ngModelOptions",t.DdM(98,d)),t.xp6(2),t.Oqu(o.util.translate("House / Flat NO")),t.xp6(2),t.Q6J("ngModel",o.address)("ngModelOptions",t.DdM(99,d)),t.xp6(2),t.Oqu(o.util.translate("Address")),t.xp6(2),t.Q6J("ngModel",o.landmark)("ngModelOptions",t.DdM(100,d)),t.xp6(2),t.Oqu(o.util.translate("Landmark")),t.xp6(2),t.Q6J("ngModel",o.zipcode)("ngModelOptions",t.DdM(101,d)),t.xp6(2),t.Oqu(o.util.translate("Pincode")),t.xp6(2),t.Q6J("ngModel",o.title),t.xp6(2),t.hij("",o.util.translate("Home")," "),t.xp6(2),t.hij("",o.util.translate("Office")," "),t.xp6(2),t.hij("",o.util.translate("Other")," "),t.xp6(3),t.Oqu(o.util.translate("Cancel")),t.xp6(1),t.Q6J("ngIf",1==o.isNewAddress),t.xp6(1),t.Q6J("ngIf",0==o.isNewAddress),t.xp6(7),t.Oqu(o.util.translate("Available Coupons")),t.xp6(5),t.Q6J("ngForOf",o.offersList),t.xp6(7),t.Oqu(o.util.translate("Order Success")),t.xp6(8),t.Oqu(o.util.translate("Thank You! for your order")),t.xp6(3),t.Oqu(o.util.translate("Back To Home")),t.xp6(2),t.hij(" ",o.util.translate("Track My Order")," "),t.xp6(7),t.Oqu(o.util.translate("Add New Card")),t.xp6(7),t.Q6J("ngModel",o.cardNumber)("ngModelOptions",t.DdM(102,d)),t.xp6(2),t.hij(" ",o.util.translate("Card Number")," "),t.xp6(2),t.Q6J("ngModel",o.cvv)("ngModelOptions",t.DdM(103,d)),t.xp6(2),t.hij("",o.util.translate("CVC")," "),t.xp6(2),t.Q6J("ngModel",o.expiryDate)("ngModelOptions",t.DdM(104,d)),t.xp6(2),t.hij("",o.util.translate("Expire Date")," "),t.xp6(2),t.Q6J("ngModel",o.cardHolderName)("ngModelOptions",t.DdM(105,d)),t.xp6(2),t.hij("",o.util.translate("Card Holder Name")," "),t.xp6(2),t.Q6J("ngModel",o.cardEmail)("ngModelOptions",t.DdM(106,d)),t.xp6(2),t.hij("",o.util.translate("Email")," "),t.xp6(3),t.hij("",o.util.translate("Add New Card")," "),t.xp6(2),t.hij("",o.util.translate("Cancel")," "),t.xp6(7),t.Oqu(o.util.translate("Pay With Stripe")),t.xp6(5),t.Q6J("ngForOf",o.stripeCardList),t.xp6(3),t.Oqu(o.util.translate("Close")),t.xp6(2),t.hij(" ",o.util.translate("Add New Card"),""),t.xp6(2),t.hij(" ",o.util.translate("Payment")," "),t.xp6(7),t.hij(" ",o.util.translate("Pay with PayPal")," "),t.xp6(5),t.Q6J("config",o.payPalConfig))},dependencies:[f.sg,f.O5,f.PC,p.mT,p.b6,p.Hq,p.WF,p.oB,p.Ui,p.XI,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.On,T.nu],styles:['@charset "UTF-8";']}),r})()}];let pt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[C.Bz.forChild(ut),C.Bz]}),r})(),ht=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.ez,pt,p.yi,h.u5,T.vj]}),r})()}}]);