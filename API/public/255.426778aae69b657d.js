"use strict";(self.webpackChunksalon_web=self.webpackChunksalon_web||[]).push([[255],{5255:(qe,T,c)=>{c.r(T),c.d(T,{CheckoutModule:()=>Ne});var C=c(6895),y=c(4553),f=c(5861),d=c(5439),e=c(4650),b=c(7241),A=c(5830),M=c(4866),h=c(7890),_=c(4006),Z=c(5470);const w=["deliveryAddress"],S=["couponModal"],N=["successModal"],q=["stripeModal"],I=["addCardModal"],U=["payPalModal"],J=["id2"],E=["id3"],O=["id4"],D=["idservice"];function H(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.price," ")}}function Q(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.price," ",i.util.currencySymbol," ")}}function j(a,l){if(1&a&&(e.TgZ(0,"span",146),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.off," ")}}function P(a,l){if(1&a&&(e.TgZ(0,"span",146),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.off," ",i.util.currencySymbol," ")}}const v=function(a){return{"background-image":a}};function K(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",135)(1,"a"),e._UZ(2,"img",136),e.qZA(),e.TgZ(3,"a",137)(4,"p",138),e._uU(5),e.qZA(),e.TgZ(6,"p",139),e._uU(7),e.qZA(),e.TgZ(8,"div",140)(9,"p",141)(10,"del"),e.YNc(11,H,2,2,"span",42),e.YNc(12,Q,2,2,"span",42),e.qZA()(),e.TgZ(13,"p",142),e.YNc(14,j,2,2,"span",143),e.YNc(15,P,2,2,"span",143),e.qZA(),e.TgZ(16,"div",144)(17,"i",145),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removeService(o))}),e.qZA()()()()()}if(2&a){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(8,v,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.duration," ",i.util.translate("Min. Duration")," "),e.xp6(4),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide)}}function F(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.price," ")}}function L(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.price," ",i.util.currencySymbol," ")}}function W(a,l){if(1&a&&(e.TgZ(0,"span",146),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",i.util.currencySymbol," ",t.off," ")}}function Y(a,l){if(1&a&&(e.TgZ(0,"span",146),e._uU(1),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.AsE(" ",t.off," ",i.util.currencySymbol," ")}}function G(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",135)(1,"a"),e._UZ(2,"img",136),e.qZA(),e.TgZ(3,"a",137)(4,"p",138),e._uU(5),e.qZA(),e.TgZ(6,"p",139),e._uU(7),e.qZA(),e.TgZ(8,"div",140)(9,"p",141)(10,"del"),e.YNc(11,F,2,2,"span",42),e.YNc(12,L,2,2,"span",42),e.qZA()(),e.TgZ(13,"p",142),e.YNc(14,W,2,2,"span",143),e.YNc(15,Y,2,2,"span",143),e.qZA(),e.TgZ(16,"div",144)(17,"i",145),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.removePackage(o))}),e.qZA()()()()()}if(2&a){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(8,v,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.AsE(" ",t.duration," ",i.util.translate("Min. Duration")," "),e.xp6(4),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide)}}function z(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",154)(1,"div",155)(2,"p",156),e._uU(3),e.qZA(),e.TgZ(4,"div",144)(5,"a",157),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onEditAddress(s.serviceCart.deliveredAddress))}),e._uU(6),e.qZA()()(),e.TgZ(7,"p",158),e._uU(8),e.qZA()()}if(2&a){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.addressTitle[t.serviceCart.deliveredAddress.title]," "),e.xp6(3),e.Oqu(t.util.translate("EDIT")),e.xp6(2),e.HOy(" ",t.serviceCart.deliveredAddress.address," ",t.serviceCart.deliveredAddress.house," ",t.serviceCart.deliveredAddress.landmark," - ",t.serviceCart.deliveredAddress.pincode,",")}}function R(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",159)(1,"div",160)(2,"div",155)(3,"p",156),e._uU(4),e.qZA(),e.TgZ(5,"div",144)(6,"a",157),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.onEditAddress(o))}),e._uU(7),e.qZA()()(),e.TgZ(8,"p",158),e._uU(9),e.qZA(),e.TgZ(10,"div",161),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.selectAddress(o))}),e._uU(11),e.qZA()()()}if(2&a){const t=l.$implicit,i=e.oxw(2);e.xp6(4),e.hij("",i.addressTitle[t.title]," "),e.xp6(3),e.Oqu(i.util.translate("EDIT")),e.xp6(2),e.HOy("",t.house," ",t.address," ",t.landmark," ",t.pincode,""),e.xp6(2),e.hij(" ",i.util.translate("Deliver Here")," ")}}function B(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"div",15)(3,"div",147)(4,"button",148),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(12);return e.KtG(s.toggle())}),e.TgZ(5,"span",9),e._uU(6,"*"),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"a",149),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addNewAddress())}),e._uU(9),e.qZA()(),e.YNc(10,z,9,6,"div",150),e.qZA(),e.TgZ(11,"div",10,151)(13,"div",18)(14,"div",152),e.YNc(15,R,12,7,"div",153),e.qZA()()()()()}if(2&a){const t=e.oxw();e.xp6(7),e.hij(" ",t.util.translate("Address")," "),e.xp6(2),e.hij(" ",t.util.translate("+Add New Address")," "),e.xp6(1),e.Q6J("ngIf",t.serviceCart&&t.serviceCart.deliveredAddress&&t.serviceCart.deliveredAddress.address),e.xp6(5),e.Q6J("ngForOf",t.addressList)}}function $(a,l){1&a&&e._UZ(0,"mdb-icon",162)}function V(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",163),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.selectDate(o))}),e.TgZ(1,"div",164),e._uU(2),e.qZA(),e.TgZ(3,"div",165),e._uU(4),e.qZA()()}if(2&a){const t=l.$implicit,i=e.oxw();e.ekj("disabled",i.initDate.split("T")[0]>t.val.split("T")),e.xp6(1),e.ekj("selectedDay",t.val.split("T")[0]==i.selectedDate),e.xp6(1),e.hij(" ",t.day," "),e.xp6(1),e.ekj("selectedDate",t.val.split("T")[0]==i.selectedDate),e.xp6(1),e.hij(" ",t.date," ")}}const k=function(a){return{"background-color":a}},g=function(a){return{color:a}};function X(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",166)(1,"a",167),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(!r.bookedSlots.includes(o.start_time+"-"+o.end_time)&&r.selectSlot(o.start_time+"-"+o.end_time))}),e.TgZ(2,"a",168),e._uU(3),e.qZA()()()}if(2&a){const t=l.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(4,k,i.bookedSlots.includes(t.start_time+"-"+t.end_time)?"grey":i.selectedSlotIndex==t.start_time+"-"+t.end_time?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.VKq(6,g,i.bookedSlots.includes(t.start_time+"-"+t.end_time)||i.selectedSlotIndex==t.start_time+"-"+t.end_time?"white":null)),e.xp6(1),e.AsE(" ",t.start_time," - ",t.end_time,"")}}function ee(a,l){1&a&&e._UZ(0,"i",172)}function te(a,l){1&a&&e._UZ(0,"i",173)}function ie(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",135)(1,"a"),e._UZ(2,"div",136),e.qZA(),e.TgZ(3,"a",137)(4,"p",138),e._uU(5),e.qZA(),e.TgZ(6,"div",140)(7,"div",169),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.saveSpecialist(o.id,o.first_name+" "+o.last_name))}),e.YNc(8,ee,1,0,"i",170),e.YNc(9,te,1,0,"i",171),e.qZA()()()()}if(2&a){const t=l.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngStyle",e.VKq(4,v,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(t.first_name+" "+t.last_name),e.xp6(3),e.Q6J("ngIf",i.selectedSpecialist!=t.id),e.xp6(1),e.Q6J("ngIf",i.selectedSpecialist==t.id)}}function se(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",20)(1,"a",21),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.savePayment(o.id))}),e._UZ(2,"div",22),e.TgZ(3,"a",23),e._uU(4),e.qZA(),e.TgZ(5,"a",24),e._UZ(6,"i",25),e.qZA()()()}if(2&a){const t=l.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(5,k,i.paymentId==t.id?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.VKq(7,v,"url("+i.api.mediaURL+t.cover+"),url(assets/images/placeholder.jpg)")),e.xp6(1),e.Q6J("ngStyle",e.VKq(9,g,i.paymentId==t.id?"white":null)),e.xp6(1),e.hij(" ",t.name,""),e.xp6(2),e.Q6J("ngStyle",e.VKq(11,g,"white"))}}function oe(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.grandTotal,"")}}function ae(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.grandTotal," ",t.util.currencySymbol,"")}}function re(a,l){1&a&&e._UZ(0,"i",174)}function le(a,l){1&a&&e._UZ(0,"i",175)}function ne(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE(" ",t.util.currecny," ",t.balance," ")}}function ce(a,l){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE(" ",t.balance," ",t.util.currecny," ")}}function de(a,l){if(1&a&&(e.TgZ(0,"span",176),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.totalPrice,"")}}function ue(a,l){if(1&a&&(e.TgZ(0,"span",176),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.totalPrice," ",t.util.currencySymbol,"")}}function pe(a,l){if(1&a&&(e.TgZ(0,"span",177),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," -",t.serviceCart.discount,"")}}function he(a,l){if(1&a&&(e.TgZ(0,"span",177),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("-",t.serviceCart.discount," ",t.util.currencySymbol,"")}}function ge(a,l){if(1&a&&(e.TgZ(0,"span",176),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.orderTax,"")}}function me(a,l){if(1&a&&(e.TgZ(0,"span",176),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.orderTax," ",t.util.currencySymbol,"")}}function _e(a,l){if(1&a&&(e.TgZ(0,"span",176),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.deliveryCharge,"")}}function fe(a,l){if(1&a&&(e.TgZ(0,"span",176),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.deliveryCharge," ",t.util.currencySymbol,"")}}function ve(a,l){if(1&a&&(e.TgZ(0,"span",178),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.util.currencySymbol," ",t.serviceCart.grandTotal,"")}}function Ce(a,l){if(1&a&&(e.TgZ(0,"span",178),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.AsE("",t.serviceCart.grandTotal," ",t.util.currencySymbol,"")}}function ye(a,l){if(1&a&&(e.TgZ(0,"h5",95),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.util.translate("Add Delivery Address")," ")}}function ke(a,l){if(1&a&&(e.TgZ(0,"h5",95),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.util.translate("Update Delivery Address")," ")}}function xe(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"button",179),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getLatLngFromAddress())}),e._uU(1),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.hij("",t.util.translate("Add")," ")}}function Te(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"button",179),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.getLatLngFromAddress())}),e._uU(1),e.qZA()}if(2&a){const t=e.oxw();e.xp6(1),e.hij("",t.util.translate("Update")," ")}}function Ze(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div")(1,"div",180)(2,"p")(3,"span",181),e._uU(4),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",182),e._uU(7),e.qZA()(),e.TgZ(8,"div",183),e.NdJ("click",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.selectedOffers(o))}),e._uU(9),e.qZA()()()}if(2&a){const t=l.$implicit,i=e.oxw();e.xp6(4),e.Oqu(t.name),e.xp6(3),e.hij("",t.short_descriptions," "),e.xp6(2),e.hij(" ",i.util.translate("Claim Coupon")," ")}}function be(a,l){if(1&a){const t=e.EpF();e.TgZ(0,"div",184)(1,"input",185),e.NdJ("input",function(){const o=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.saveCard(o.id))}),e.qZA(),e.TgZ(2,"label",186),e._uU(3),e._UZ(4,"br"),e._uU(5),e.qZA()()}if(2&a){const t=l.$implicit,i=e.oxw();e.xp6(1),e.Q6J("id",t.id)("checked",t.id==i.selectedCard),e.xp6(1),e.Q6J("for",t.id),e.xp6(1),e.hij(" **** **** **** ",t.last4," "),e.xp6(2),e.AsE(" ",t.exp_month,"/",t.exp_year," ")}}const Ae=function(){return{"background-image":"url(assets/home.png)"}},Me=function(){return{"background-image":"url(assets/store.png)"}},u=function(){return{standalone:!0}},we=[{path:"",component:(()=>{class a{constructor(t,i,s,o,r){this.router=t,this.util=i,this.api=s,this.navParam=o,this.serviceCart=r,this.checkModel={left:!0,middle:!1,right:!1},this.radioModel="Left",this.currentWeek=0,this.days=[],this.orderNotes="",this.paymentId="",this.payMethodName="",this.addressList=[],this.addressTitle=["Home","Office","Other"],this.slotList=[],this.bookedSlots=[],this.offersList=[],this.selectedSlotIndex="",this.freelancerCover="",this.freelancerName="",this.totalExperience=10,this.rating=0,this.totalRating=0,this.dayList=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.addressId=0,this.title="",this.address="",this.house="",this.landmark="",this.zipcode="",this.lat=0,this.lng=0,this.isNewAddress=!0,this.currency_code="",this.cardNumber="",this.cvv="",this.expiryDate="",this.cardHolderName="",this.cardEmail="",this.stripeKey="",this.stripeCardList=[],this.selectedCard="",this.paymentMethodList=[],this.balance=0,this.walletDiscount=0,this.walletCheck=!1,this.specialist=[],this.selectedSpecialist="",this.specialistName="",this.serviceAt="home",this.serviceCart&&this.serviceCart.totalItemInCart>0?setTimeout(()=>{this.dateConfi(),this.selectedDate=d().format().split("T")[0],this.getSlotsForBookings(),this.getSpecialist(),this.getAddress(),this.getPayments(),this.getFreelancerByID(),this.getProfile(),this.getWalletAmount()},1e3):this.router.navigate([""])}changeServiceAt(t){this.serviceAt=t,this.idserviceCollapse.toggle()}saveSpecialist(t,i){this.selectedSpecialist=t,this.specialistName=i,this.specialistCollapse.toggle()}getSpecialist(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid),this.api.post_private("v1/specialist/getSpecialist",{id:t}).then(i=>{console.log("specialist **************************",i),i&&i.status&&200==i.status&&(this.specialist=i.data)},i=>{console.log("Error",i),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.apiErrorHandler(i)})}removeService(t){t.isChecked=!1,this.serviceCart.removeItem(t.id),0==this.serviceCart.serviceCart.length&&0==this.serviceCart.packagesCart.length&&this.router.navigate([""])}removePackage(t){t.isChecked=!1,this.serviceCart.removePackage(t.id),0==this.serviceCart.serviceCart.length&&0==this.serviceCart.packagesCart.length&&this.router.navigate([""])}getWalletAmount(){this.api.post_private("v1/profile/getMyWalletBalance",{id:localStorage.getItem("uid")}).then(t=>{console.log("------------------",t),t&&t.status&&200==t.status&&t.data&&(this.balance=parseFloat(t.data.balance),this.walletDiscount=parseFloat(t.data.balance),console.log(this.balance,this.walletDiscount))},t=>{console.log(t)}).catch(t=>{console.log(t)})}getAddress(){const t={id:localStorage.getItem("uid")};this.api.post_private("v1/address/getByUID",t).then(i=>{i&&200==i.status&&(console.log(i),this.addressList=i.data,console.log(this.addressList))},i=>{console.log("Error",i),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.apiErrorHandler(i)})}getLatLngFromAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const t=new google.maps.Geocoder;this.util.start(),t.geocode({address:this.house+" "+this.landmark+" "+this.address+" "+this.zipcode},(i,s)=>{if(console.log(i,s),"OK"!=s||!i||!i.length)return this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong")),!1;this.lat=i[0].geometry.location.lat(),this.lng=i[0].geometry.location.lng(),console.log("-----\x3e",this.lat,this.lng),1==this.isNewAddress?this.saveAddress():this.updateAddress()})}saveAddress(){if(""==this.address||""==this.house||""==this.landmark||""==this.zipcode)return this.util.apiErrorHandler(this.util.translate("all fields are required")),!1;const t={uid:localStorage.getItem("uid"),title:this.title,address:this.address,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/save",t).then(i=>{i&&200==i.status&&(this.util.stop(),console.log(i),this.deliveryAddress.hide(),this.getAddress(),this.util.suucessMessage(this.util.translate("Address Added")))},i=>{console.log("Error",i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.stop(),this.util.apiErrorHandler(i)})}addNewAddress(){this.isNewAddress=!0,this.house="",this.landmark="",this.address="",this.addressId=0,this.zipcode="",this.deliveryAddress.show()}onEditAddress(t){this.addressId=t.id,this.isNewAddress=!1,this.address=t.address,this.house=t.house,this.landmark=t.landmark,this.zipcode=t.pincode,this.title=t.title,this.deliveryAddress.show()}updateAddress(){const t={uid:localStorage.getItem("uid"),title:this.title,address:this.address,id:this.addressId,house:this.house,landmark:this.landmark,pincode:this.zipcode,lat:this.lat,lng:this.lng,status:1};this.util.start(),this.api.post_private("v1/address/update",t).then(i=>{i&&200==i.status&&(this.util.stop(),this.deliveryAddress.hide(),this.getAddress(),console.log(i),this.util.suucessMessage(this.util.translate("Address Updated")))},i=>{console.log("Error",i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log("Err",i),this.util.stop(),this.util.apiErrorHandler(i)})}selectAddress(t){console.log(t),this.calculateDistance(t.lat,t.lng,t),this.addressCollapse.toggle()}calculateDistance(t,i,s){var o=this;return(0,f.Z)(function*(){let r;console.log(o.serviceCart.deliveredAddress),console.log(o.storeInfo),r=o.storeInfo&&o.storeInfo.lat?yield o.distanceInKmBetweenEarthCoordinates(t,i,o.storeInfo.lat,o.storeInfo.lng):0,console.log(r,o.util.allowDistance),r>parseFloat(o.util.allowDistance)?o.util.errorMessage(o.util.translate("Sorry we deliver the order near to "+o.util.allowDistance)):(0==o.util.deliveryType?(o.serviceCart.deliveryCharge=r*o.util.deliveryCharge,o.serviceCart.deliveredAddress=s):o.serviceCart.deliveryCharge=o.util.deliveryCharge,o.serviceCart.deliveryCharge=parseFloat(o.serviceCart.deliveryCharge).toFixed(2),o.serviceCart.calculateAllCharges()),console.log("delivery charge",o.serviceCart.deliveryCharge)})()}distanceInKmBetweenEarthCoordinates(t,i,s,o){console.log(t,i,s,o);const p=this.degreesToRadians(s-t),x=this.degreesToRadians(o-i);t=this.degreesToRadians(t),s=this.degreesToRadians(s);const n=Math.sin(p/2)*Math.sin(p/2)+Math.sin(x/2)*Math.sin(x/2)*Math.cos(t)*Math.cos(s);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371}degreesToRadians(t){return t*Math.PI/180}getSlotsForBookings(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid);const i={week_id:this.dayList.indexOf(d(this.selectedDate).format("dddd")),date:this.selectedDate,uid:t,from:"salon"};this.bookedSlots=[],this.slotList=[],this.api.post_private("v1/timeslots/getSlotsByForBookings",i).then(s=>{console.log(s),s&&s.status&&200==s.status&&s.data&&s.data.slots&&s.bookedSlots&&(this.slotList=JSON.parse(s.data.slots),this.bookedSlots=[],s.bookedSlots.forEach(o=>{this.bookedSlots.push(o.slot)}),console.log(this.slotList),console.log(this.bookedSlots))},s=>{console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{console.log("Err",s),this.util.apiErrorHandler(s)})}selectSlot(t){console.log(t),this.selectedSlotIndex=t,this.slotCollapse.toggle()}getFreelancerByID(){let t="";this.serviceCart.serviceCart.length>0?t=this.serviceCart.serviceCart[0].uid:this.serviceCart.packagesCart.length>0&&(t=this.serviceCart.packagesCart[0].uid),this.api.post("v1/salon/salonDetails",{id:t}).then(s=>{s&&200==s.status&&(console.log(s),this.freelancerCover=s.data.cover,this.freelancerName=s.data.name,this.rating=s.data.rating,this.totalRating=s.data.total_rating,this.storeInfo=s.data)},s=>{console.log("Error",s),this.util.apiErrorHandler(s)}).catch(s=>{console.log("Err",s),this.util.apiErrorHandler(s)})}dateConfi(){this.selectedDate=d().format().split("T")[0],this.currentDate=d().format().split("T")[0],this.days=[],this.initDate=d().format();const t=d().startOf("week"),i=d().endOf("week");let s=t;for(;s<=i;){const o={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(o),s=s.clone().add(1,"d")}}previousWeek(){if(0!==this.currentWeek){this.days=[],this.currentWeek=this.currentWeek-1;const t=d().add(this.currentWeek,"weeks").startOf("week"),i=d().add(this.currentWeek,"weeks").endOf("week");let s=t;for(;s<=i;){const o={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(o),s=s.clone().add(1,"d")}console.log(this.days)}}selectDate(t){console.log(t),this.currentDate<=t.val.split("T")[0]&&(this.selectedDate=t.val.split("T")[0],console.log(this.selectedDate),this.getSlotsForBookings())}nextWeek(){this.days=[],this.currentWeek++,console.log(this.currentWeek);const t=d().add(this.currentWeek,"weeks").startOf("week"),i=d().add(this.currentWeek,"weeks").endOf("week");let s=t;for(;s<=i;){const o={date:s.toDate().getDate(),day:s.format("ddd"),val:s.format(),selectDay:s.format("dddd DD MMMM")};this.days.push(o),s=s.clone().add(1,"d")}console.log(this.days)}addCoupon(){this.getActiveOffers(),this.couponModal.show()}removeOffer(){this.serviceCart.coupon=null,this.serviceCart.calcuate(),localStorage.removeItem("selectedOffer")}selectedOffers(t){if(this.serviceCart&&this.serviceCart.walletDiscount&&this.serviceCart.walletDiscount>0)return this.util.errorMessage(this.util.translate("Sorry you have already added a wallet discount to cart")),!1;console.log(t,this.storeInfo);const i=t.freelancer_ids.split(",").map(Number);console.log(i),console.log(i.includes(this.storeInfo.uid)),i.includes(this.storeInfo.uid)?(this.serviceCart.coupon=t,this.serviceCart.calculateAllCharges(),this.couponModal.hide()):this.util.errorMessage(this.util.translate("This coupon is not valid for ")+this.storeInfo.user_info.first_name)}getActiveOffers(){this.util.start(),this.api.get_private("v1/offers/getActive").then(t=>{this.util.stop(),console.log(t),t&&200==t.status&&(this.offersList=t.data,console.log(this.offersList))},t=>{console.log("Error",t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log("Err",t),this.util.stop(),this.util.apiErrorHandler(t)})}getPayments(){this.api.get_private("v1/payments/getPayments").then(t=>{t&&200==t.status&&(console.log(t),this.paymentMethodList=t.data,console.log(this.paymentMethodList),this.paymentMethodList.filter(r=>8==r.id).length&&this.util.loadScript("https://checkout.flutterwave.com/v3.js"),this.paymentMethodList.filter(r=>7==r.id).length&&this.util.loadScript("https://js.paystack.co/v1/inline.js"),this.paymentMethodList.filter(r=>5==r.id).length&&this.util.loadScript("https://checkout.razorpay.com/v1/checkout.js"))},t=>{console.log("Error",t),this.util.apiErrorHandler(t)}).catch(t=>{console.log("Err",t),this.util.apiErrorHandler(t)})}savePayment(t){console.log(t),this.paymentId=t,1==this.paymentId?this.payMethodName="cod":2==this.paymentId?this.payMethodName="stripe":3==this.paymentId?this.payMethodName="paypal":4==this.paymentId?this.payMethodName="paytm":5==this.paymentId?this.payMethodName="razorpay":6==this.paymentId?this.payMethodName="instamojo":7==this.paymentId?this.payMethodName="paystack":8==this.paymentId&&(this.payMethodName="flutterwave")}onCheckout(){return console.log(this.serviceAt),"home"!=this.serviceAt||this.serviceCart.deliveredAddress&&this.serviceCart.deliveredAddress.address&&this.serviceCart.deliveredAddress.lat?""==this.selectedSlotIndex?(console.log("Please select Slot"),this.util.errorMessage(this.util.translate("Please select Slot")),!1):void(0!=this.paymentId?1==this.paymentId?this.createOrder("COD"):2==this.paymentId?this.stripeModal.show():3==this.paymentId?this.payPalWebPay():4==this.paymentId?this.payTmWeb():5==this.paymentId?this.razoryPayWeb():6==this.paymentId?this.payWithInstaMOJOWeb():7==this.paymentId?this.paystackWeb():8==this.paymentId&&this.flutterwaveWeb():this.util.errorMessage(this.util.translate("Please select payment method"))):(console.log("Please select Address"),this.util.errorMessage(this.util.translate("Please select Address")),!1)}flutterwaveWeb(){this.util.start(),this.api.get_private("v1/getFlutterwaveKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const i=this.paymentMethodList.filter(s=>s.id==this.paymentId);console.log(i),FlutterwaveCheckout({public_key:t.data,tx_ref:""+Math.floor(1e9*Math.random()+1),amount:this.serviceCart.grandTotal,currency:i[0].currency_code,payment_options:"card, mobilemoneyghana, ussd",meta:{consumer_id:23,consumer_mac:"92a3-912ba-1192a"},customer:{email:this.getEmail(),phone_number:localStorage.getItem("mobile"),name:this.getName()},callback:s=>{console.log(s),document.getElementsByName("checkout")[0].setAttribute("style","position:fixed;top:0;left:0;z-index:-1;border:none;opacity:0;pointer-events:none;width:100%;height:100%;"),document.body.style.overflow="",this.createOrder(JSON.stringify(s))},onclose:s=>{console.log("closed",s)},customizations:{title:this.util.app_name,description:this.util.app_name+" Order",logo:this.api.mediaURL+this.util.logo}})}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}paystackWeb(){this.util.start(),this.api.get_private("v1/getPaystackKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const i=this.paymentMethodList.filter(o=>o.id==this.paymentId);console.log(i),PaystackPop.setup({key:t.data,currency:i[0].currency_code,email:this.getEmail(),amount:100*this.serviceCart.grandTotal,firstname:this.getFirstName(),lastname:this.getLastName(),ref:""+Math.floor(1e9*Math.random()+1),onClose:()=>{console.log("closed")},callback:o=>{console.log(o),this.createOrder(o.reference)}}).openIframe()}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}payWithInstaMOJOWeb(){var t=this;return(0,f.Z)(function*(){let i="";t.serviceCart.serviceCart.length>0?i=t.serviceCart.serviceCart[0].uid:t.serviceCart.packagesCart.length>0&&(i=t.serviceCart.packagesCart[0].uid);const s={uid:localStorage.getItem("uid"),freelancer_id:0,salon_id:i,specialist_id:t.selectedSpecialist,appointments_to:"home"==t.serviceAt?1:0,address:"home"==t.serviceAt?JSON.stringify(t.serviceCart.deliveredAddress):"NA",items:localStorage.getItem("userCart"),coupon_id:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?t.serviceCart.coupon.id:0,coupon:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?JSON.stringify(t.serviceCart.coupon):"NA",discount:t.serviceCart.discount,distance_cost:t.serviceCart.deliveryCharge,total:t.serviceCart.totalPrice,serviceTax:t.serviceCart.orderTax,grand_total:t.serviceCart.grandTotal,pay_method:t.paymentId,paid:"NA",save_date:t.selectedDate,slot:t.selectedSlotIndex,wallet_used:1==t.walletCheck&&t.walletDiscount>0?1:0,wallet_price:1==t.walletCheck&&t.walletDiscount>0?t.walletDiscount:0,notes:""==t.orderNotes||null==t.orderNotes?"NA":t.orderNotes,status:8};console.log("param-----\x3e",s),t.util.start(),t.api.post_private("v1/appoinments/create",s).then(o=>{if(console.log(o),t.util.stop(),o&&o.status&&200==o.status&&o.data&&o.data.id){const p=o.data.id,x={allow_repeated_payments:"False",amount:t.serviceCart.grandTotal,buyer_name:t.getName(),purpose:t.util.app_name+" Orders",redirect_url:t.api.baseUrl+"v1/instaMOJOWebSuccessAppointments?id="+p,phone:localStorage.getItem("mobile")&&null!=localStorage.getItem("mobile")?localStorage.getItem("mobile"):"",send_email:"True",webhook:t.api.baseUrl,send_sms:"True",email:t.getEmail()};t.util.start(),t.api.post_private("v1/payments/instamojoPay",x).then(n=>{if(console.log("instamojo response",n),t.util.stop(),n&&n.status&&200==n.status&&n.success&&1==n.success.success){const m={queryParams:{id:p,payLink:n.success.payment_request.longurl}};t.serviceCart.clearCart(),t.router.navigate(["/await-payments"],m)}else{const m=JSON.parse(n.error);if(console.log("error message",m),m&&m.message)return t.util.errorMessage(m.message),!1;t.util.errorMessage(t.util.translate("Something went wrong while payments. please contact administrator"))}},n=>{console.log(n),t.util.stop(),t.util.apiErrorHandler(n)}).catch(n=>{console.log(n),t.util.stop(),t.util.apiErrorHandler(n)})}},o=>{console.log(o),t.util.stop(),t.util.apiErrorHandler(o)}).catch(o=>{console.log(o),t.util.stop(),t.util.apiErrorHandler(o)})})()}payTmWeb(){var t=this;return(0,f.Z)(function*(){let i="";t.serviceCart.serviceCart.length>0?i=t.serviceCart.serviceCart[0].uid:t.serviceCart.packagesCart.length>0&&(i=t.serviceCart.packagesCart[0].uid);const s={uid:localStorage.getItem("uid"),freelancer_id:0,salon_id:i,specialist_id:t.selectedSpecialist,appointments_to:"home"==t.serviceAt?1:0,address:"home"==t.serviceAt?JSON.stringify(t.serviceCart.deliveredAddress):"NA",items:localStorage.getItem("userCart"),coupon_id:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?t.serviceCart.coupon.id:0,coupon:t.serviceCart&&t.serviceCart.coupon&&t.serviceCart.coupon.id?JSON.stringify(t.serviceCart.coupon):"NA",discount:t.serviceCart.discount,distance_cost:t.serviceCart.deliveryCharge,total:t.serviceCart.totalPrice,serviceTax:t.serviceCart.orderTax,grand_total:t.serviceCart.grandTotal,pay_method:t.paymentId,paid:"NA",save_date:t.selectedDate,slot:t.selectedSlotIndex,wallet_used:1==t.walletCheck&&t.walletDiscount>0?1:0,wallet_price:1==t.walletCheck&&t.walletDiscount>0?t.walletDiscount:0,notes:""==t.orderNotes||null==t.orderNotes?"NA":t.orderNotes,status:8};console.log("param-----\x3e",s),t.util.start(),t.api.post_private("v1/appoinments/create",s).then(o=>{if(console.log(o),t.util.stop(),o&&o.status&&200==o.status&&o.data&&o.data.id){const p={queryParams:{id:o.data.id,payLink:t.api.baseUrl+"v1/payNowWeb?amount="+t.serviceCart.grandTotal+"&standby_id="+o.data.id}};t.serviceCart.clearCart(),t.router.navigate(["/await-payments"],p)}},o=>{console.log(o),t.util.stop(),t.util.apiErrorHandler(o)}).catch(o=>{console.log(o),t.util.stop(),t.util.apiErrorHandler(o)})})()}payPalWebPay(){var t=this;this.util.start(),this.api.get_private("v1/getPayPalKey").then(function(){var i=(0,f.Z)(function*(s){if(console.log(s),t.util.stop(),s&&s.status&&200==s.status&&s.data){const o=t.paymentMethodList.filter(r=>r.id==t.paymentId);console.log(o),t.payPalModal.show(),t.initConfig(o[0].currency_code,s.data)}});return function(s){return i.apply(this,arguments)}}(),i=>{console.log(i),this.util.stop(),this.util.apiErrorHandler(i)}).catch(i=>{console.log(i),this.util.stop(),this.util.apiErrorHandler(i)})}initConfig(t,i){this.payPalConfig={currency:t,clientId:i,createOrderOnClient:s=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:t,value:this.serviceCart.grandTotal,breakdown:{item_total:{currency_code:t,value:this.serviceCart.grandTotal}}}}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(s,o)=>{console.log("onApprove - transaction was approved, but not authorized",s,o),o.order.get().then(r=>{console.log("onApprove - you can get full order details inside onApprove: ",r)})},onClientAuthorization:s=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",s),this.payPalModal.hide(),this.createOrder(JSON.stringify(s))},onCancel:(s,o)=>{console.log("OnCancel",s,o)},onError:s=>{console.log("OnError",s)},onClick:(s,o)=>{console.log("onClick",s,o)}}}addNewCard(){this.stripeModal.hide(),this.addCardModal.show()}getProfile(){this.api.post_private("v1/profile/getByID",{id:localStorage.getItem("uid")}).then(t=>{console.log("profile",t),t&&200==t.status&&t.data&&t.data.id&&(this.cardEmail=t.data.email,this.stripeKey=t.data.stripe_key,console.log("i am stripeeeeeeeeeeeeee",this.stripeKey),this.stripeKey&&null!=this.stripeKey&&this.getStripeCard())},t=>{console.log(t),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(t=>{console.log(t),this.util.errorMessage(this.util.translate("Something went wrong"))})}submitData(){if(""==this.cardNumber||""==this.cvv||""==this.expiryDate||""==this.cardHolderName||""==this.cardEmail)return this.util.errorMessage(this.util.translate("all fields are required")),!1;const t={number:this.cardNumber,exp_month:d(this.expiryDate).format("MM"),exp_year:d(this.expiryDate).format("YYYY"),cvc:this.cvv,email:this.cardEmail};this.util.start(),console.log("constant",t),this.api.post_private("v1/payments/createStripeToken",t).then(i=>{console.log(i),this.util.stop(),i&&i.status&&200==i.status&&i.success&&i.success.id?(console.log("***********************************",this.stripeKey),console.log(""!=this.stripeKey&&this.stripeKey&&null!=this.stripeKey),""!=this.stripeKey&&this.stripeKey&&null!=this.stripeKey?this.addStripe(i.success.id):this.createCustomer(i.success.id)):this.util.errorMessage(this.util.translate("Something went wrong"))},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}addStripe(t){const i={token:t,id:this.stripeKey};this.util.start(),this.api.post_private("v1/payments/addStripeCards",i).then(s=>{this.util.suucessMessage("Card Information Saved"),this.util.stop(),this.addCardModal.hide(),this.stripeModal.show(),this.getStripeCard()},s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}createCustomer(t){this.util.start(),this.api.post_private("v1/payments/createCustomer",{email:this.cardEmail,source:t}).then(s=>{this.util.stop(),console.log("customer id",s),s&&200==s.status&&(this.stripeKey=s.success.id,this.updateUserStripeKey(s.success.id))},s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}updateUserStripeKey(t){const i={id:localStorage.getItem("uid"),stripe_key:t};this.util.start(),this.api.post_private("v1/profile/update",i).then(s=>{this.util.suucessMessage("Card Information Saved"),this.addCardModal.hide(),this.stripeModal.show(),this.getStripeCard()},s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}getStripeCard(){this.api.post_private("v1/payments/getStripeCards",{id:this.stripeKey}).then(t=>{console.log(t),t&&200==t.status&&(this.stripeCardList=t.success.data,console.log(this.stripeCardList))},t=>{console.log(t),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(t=>{console.log(t),this.util.errorMessage(this.util.translate("Something went wrong"))})}saveCard(t){this.selectedCard=t}createPayment(){""!=this.selectedCard?(this.stripeModal.hide(),this.makePayment()):this.util.errorMessage(this.util.translate("Please Select Card"))}makePayment(){var t=this.paymentMethodList.filter(s=>s.id==this.paymentId);if(console.log(t),t.length>0){var i={amount:parseInt(this.serviceCart.grandTotal),currency:t[0].currency_code,customer:this.stripeKey,card:this.selectedCard};this.util.start(),this.api.post_private("v1/payments/createStripePayments",i).then(s=>{this.util.stop(),console.log(s),s&&200==s.status&&s.success&&s.success.id&&this.createOrder(JSON.stringify(s.success))},s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(s=>{console.log(s),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong"))})}}onOrderHistory(){this.successModal.hide();const t=(this.util.userInfo.first_name+"-"+this.util.userInfo.last_name).toLowerCase();this.router.navigate(["user",t,"appointment"])}onHome(){this.successModal.hide(),this.router.navigate([""])}createOrder(t){var i=this;return(0,f.Z)(function*(){console.log(i.address);let s="";i.serviceCart.serviceCart.length>0?s=i.serviceCart.serviceCart[0].uid:i.serviceCart.packagesCart.length>0&&(s=i.serviceCart.packagesCart[0].uid);const o={uid:localStorage.getItem("uid"),freelancer_id:0,salon_id:s,specialist_id:i.selectedSpecialist,appointments_to:"home"==i.serviceAt?1:0,address:"home"==i.serviceAt?JSON.stringify(i.serviceCart.deliveredAddress):"NA",items:localStorage.getItem("userCart"),coupon_id:i.serviceCart&&i.serviceCart.coupon&&i.serviceCart.coupon.id?i.serviceCart.coupon.id:0,coupon:i.serviceCart&&i.serviceCart.coupon&&i.serviceCart.coupon.id?JSON.stringify(i.serviceCart.coupon):"NA",discount:i.serviceCart.discount,distance_cost:i.serviceCart.deliveryCharge,total:i.serviceCart.totalPrice,serviceTax:i.serviceCart.orderTax,grand_total:i.serviceCart.grandTotal,pay_method:i.paymentId,paid:t,save_date:i.selectedDate,slot:i.selectedSlotIndex,wallet_used:1==i.walletCheck&&i.walletDiscount>0?1:0,wallet_price:1==i.walletCheck&&i.walletDiscount>0?i.walletDiscount:0,notes:""==i.orderNotes||null==i.orderNotes?"NA":i.orderNotes,status:0};console.log("param-----\x3e",o),i.util.start(),i.api.post_private("v1/appoinments/create",o).then(r=>{r&&200==r.status&&(i.util.stop(),console.log(r),i.serviceCart.clearCart(),i.successModal.show())},r=>{console.log("Error",r),i.util.stop(),i.util.apiErrorHandler(r)}).catch(r=>{console.log("Err",r),i.util.stop(),i.util.apiErrorHandler(r)})})()}walletChange(){if(this.balance<=0||this.serviceCart.coupon)return!1;if(console.log("ok"),this.walletCheck=!this.walletCheck,1==this.walletCheck){if(this.serviceCart&&this.serviceCart.coupon&&this.serviceCart.coupon.id)return this.util.errorMessage(this.util.translate("Sorry you have already added a offers discount to cart")),this.walletCheck=!1,!1;this.serviceCart.walletDiscount=parseFloat(this.balance),this.serviceCart.calcuate()}else this.serviceCart.walletDiscount=0,this.serviceCart.calcuate()}ngOnInit(){}razoryPayWeb(){this.util.start(),this.api.get_private("v1/getRazorPayKey").then(t=>{if(console.log(t),this.util.stop(),t&&t.status&&200==t.status&&t.data){const o=this.paymentMethodList.filter(r=>r.id==this.paymentId);console.log(o);var i={amount:this.serviceCart.grandTotal?100*this.serviceCart.grandTotal:5,email:this.getEmail(),logo:this.util&&this.util.logo?this.api.mediaURL+this.util.logo:"null",name:this.getName(),app_color:this.util&&this.util.app_color?this.util.app_color:"#f47878",key:t.data,currency:o[0].currency_code,description:this.util.app_name+" Order Of "+this.serviceCart.grandTotal+" amount",handler:r=>{console.log(r),this.verifyPurchaseRazorPay(r.razorpay_payment_id)}};console.log(i),new Razorpay(i).open()}},t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)}).catch(t=>{console.log(t),this.util.stop(),this.util.apiErrorHandler(t)})}getName(){return null!=localStorage.getItem("lastName")&&""!=localStorage.getItem("lastName")?localStorage.getItem("firstName")+" "+localStorage.getItem("lastName"):"Foodies"}getEmail(){return null!=localStorage.getItem("email")&&localStorage.getItem("email")?localStorage.getItem("email"):"info@initappz.com"}getFirstName(){return localStorage.getItem("firstName")&&null!=localStorage.getItem("firstName")?localStorage.getItem("firstName"):""}getLastName(){return localStorage.getItem("lastName")&&null!=localStorage.getItem("lastName")?localStorage.getItem("lastName"):""}verifyPurchaseRazorPay(t){this.util.start(),this.api.get_private("v1/payments/VerifyRazorPurchase?id="+t).then(i=>{console.log(i),i&&i.status&&200==i.status&&i.success&&i.success.status&&"captured"==i.success.status?(this.util.stop(),this.createOrder(JSON.stringify(i.success))):(this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator")))},i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))}).catch(i=>{console.log(i),this.util.stop(),this.util.errorMessage(this.util.translate("Something went wrong while payments. please contact administrator"))})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(y.F0),e.Y36(b.f),e.Y36(A.s),e.Y36(y.gz),e.Y36(M.I))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-checkout"]],viewQuery:function(t,i){if(1&t&&(e.Gf(w,7),e.Gf(S,7),e.Gf(N,7),e.Gf(q,7),e.Gf(I,7),e.Gf(U,5),e.Gf(J,5),e.Gf(E,5),e.Gf(O,5),e.Gf(D,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.deliveryAddress=s.first),e.iGM(s=e.CRH())&&(i.couponModal=s.first),e.iGM(s=e.CRH())&&(i.successModal=s.first),e.iGM(s=e.CRH())&&(i.stripeModal=s.first),e.iGM(s=e.CRH())&&(i.addCardModal=s.first),e.iGM(s=e.CRH())&&(i.payPalModal=s.first),e.iGM(s=e.CRH())&&(i.addressCollapse=s.first),e.iGM(s=e.CRH())&&(i.slotCollapse=s.first),e.iGM(s=e.CRH())&&(i.specialistCollapse=s.first),e.iGM(s=e.CRH())&&(i.idserviceCollapse=s.first)}},decls:291,vars:140,consts:[[1,"main-content","bg-light","p-1"],[1,"py-4","service-main-body"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"pb-3"],[1,"bg-white","border-0","p-0"],[1,"mb-0","ff-medium","shadow-sm"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","btn-block","px-3","py-4","m-0",3,"click"],[1,"c-number"],["mdbCollapse",""],["id1","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm","service-cart"],[1,"cart-items","bg-white","p-3"],["class","d-flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"mb-0","mt-2","ff-medium","shadow-sm"],[2,"text-transform","uppercase"],["idservice","bs-collapse"],[1,"card-body","p-0","border-top","shadow-sm"],[1,"mt-2"],[1,"payment-list","d-block"],[1,"payment-name","mt-3","py-1","text-start","pl-3","d-flex","align-items-center","border",3,"ngStyle","click"],[1,"payment-img",3,"ngStyle"],[1,"text-center","pl-3",3,"ngStyle"],[1,"ml-auto","pr-3"],[1,"far","fa-check-circle",3,"ngStyle"],["class","pb-3",4,"ngIf"],["id3","bs-collapse"],[1,"bg-white","border-bottom","p-3"],[1,"d-flex","align-item-center","select-date"],[3,"click"],["fas","","icon","angle-left",4,"ngIf"],["class","border rounded mx-lg-2 mx-1",3,"disabled","click",4,"ngFor","ngForOf"],["fas","","icon","angle-right"],[1,"row","mt-2"],["class","col-md-6 px-lg-3 p-2 col-6 slot-list",4,"ngFor","ngForOf"],["id4","bs-collapse"],["id5","bs-collapse"],["class","payment-list d-block",4,"ngFor","ngForOf"],[1,"pt-4"],["type","button","mdbBtn","","mdbWavesEffect","",1,"rounded","text-white","m-0","btn-color","btn-block",3,"click"],[1,"m-0","text-capitalize","ff-medium"],[4,"ngIf"],[1,"m-0","text-capitalize"],[1,"col-lg-4"],[1,"sticky_sidebar"],[1,"pd","bg-white","rounded","overflow-hidden","shadow-sm","mb-3","checkout-sidebar"],[1,"d-flex","align-items-center","profile","border-bottom","bg-white","p-3"],[1,"mr-3","rounded-circle","img-fluid",3,"ngStyle"],[1,"d-flex","flex-column"],[1,"mb-1","ff-bold"],[1,"px-3","pt-3","notes"],["type","text","rows","1","placeholder","Write Notes",1,"textarea",3,"ngModel","ngModelChange"],[1,"apply-coupon","mx-3",3,"click"],["fas","","icon","tags",1,"prefix","grey-text","pr-1"],[1,"wallet_box",3,"ngStyle"],[1,"head_lbl"],[1,"checkmark",3,"click"],["class","fas fa-check-circle",4,"ngIf"],["class","far fa-circle",4,"ngIf"],[1,"bg-white","px-3","py-2"],[1,"ff-bold","small"],[1,"mb-1"],["class","float-right text-dark",4,"ngIf"],["class","float-right text-danger",4,"ngIf"],[1,"p-3","border-top"],[1,"m-0","ff-medium","h5"],["class","float-right ff-medium h5 f-primary",4,"ngIf"],["mdbModal","","id","deliveryAddressModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","999999"],["deliveryAddress","mdbModal"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header","text-center"],["class","modal-title w-100 ff-medium",4,"ngIf"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","mx-3"],[1,"md-form","mb-5"],["type","text","id","form34","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form34"],["type","text","id","form29","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form29"],["type","text","id","form32","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","form32"],[1,"md-form"],[1,"custom-select",3,"ngModel","ngModelChange"],["value","0","selected",""],["value","1"],["value","2"],[1,"modal-footer","d-flex","justify-content-center"],["mdbBtn","","color","light","mdbWavesEffect","",1,"waves-light","btn-color","text-dark",3,"click"],["mdbBtn","","class","waves-light btn-color text-white","mdbWavesEffect","",3,"click",4,"ngIf"],["mdbModal","","id","couponModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","right",2,"z-index","999999"],["couponModal","mdbModal"],["role","document",1,"modal-dialog","modal-full-height","modal-right"],[1,"modal-title","w-100","ff-medium"],[1,"modal-body"],[4,"ngFor","ngForOf"],["mdbModal","","tabindex","-1","role","dialog","aria-labelledby","myBasicModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999"],["successModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-success","modal-dialog-scrollable"],[1,"modal-title","w-100","ff-medium","text-white"],["aria-hidden","true",1,"white-text"],[1,"text-center","confirm-modal"],["src","assets/images/logo.png","alt","",2,"height","100px","width","100px"],[1,"confirm-bold","mt-3"],[1,"modal-footer","justify-content-center"],["type","button","mdbBtn","","color","success","outline","true","mdbWavesEffect","",1,"waves-effect",3,"click"],["type","button","mdbBtn","","color","success","mdbWavesEffect","",1,"waves-effect",3,"click"],["mdbModal","","id","addCardModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","999999"],["addCardModal","mdbModal"],["id","cnum","type","tel","autocomplete","cc-number","ccNumber","","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","cnum"],["id","cvc","type","tel","autocomplete","off","ccCvc","","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","cvc"],["id","date","type","date","autocomplete","cc-exp","ccExp","","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","date"],["type","text","id","cname","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","cname"],["type","email","id","email","mdbInput","",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["for","email"],["type","button","mdbBtn","","mdbWavesEffect","",1,"waves-light","btn-color","text-white",3,"click"],["type","button","mdbBtn","","color","light","mdbWavesEffect","","data-dismiss","modal",1,"waves-light","shadow-none","btn-color","text-dark",3,"click"],["stripeModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-warning","modal-dialog-scrollable"],[1,"modal-header"],[1,"heading","lead"],["class","custom-control custom-radio del-type mb-4",4,"ngFor","ngForOf"],["type","button","mdbBtn","","color","warning","outline","true","mdbWavesEffect","",1,"waves-effect",3,"click"],["type","button","mdbBtn","","color","warning","mdbWavesEffect","",1,"waves-effect",3,"click"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","center",2,"z-index","99999"],["payPalModal","mdbModal"],["role","document",1,"modal-dialog","modal-notify","modal-danger","modal-dialog-scrollable"],[1,"heading","lead",2,"text-align","center"],[3,"config"],[1,"d-flex","align-items-center","mb-3"],[1,"img-fluid",3,"ngStyle"],[1,"ml-3","text-dark","text-decoration-none","w-100"],[1,"head-text"],[1,"sub-text"],[1,"d-flex","align-items-center"],[1,"h6","text-muted","small","m-0","mr-3"],[1,"h5","ff-medium","f-primary","m-0"],["class","ff-medium head-text",4,"ngIf"],[1,"d-flex","ml-auto"],[1,"far","fa-check-square",2,"font-size","2rem","color","gray",3,"click"],[1,"ff-medium","head-text"],[1,"d-flex","justify-content-between","align-items-center"],["type","button",1,"rounded","border-0","d-flex","align-items-center","bg-white","ff-medium","btn-block","px-3","py-4","m-0",3,"click"],[1,"ff-medium","f-primary","text-right","w-75","mr-2",3,"click"],["class","p-3 border bg-white rounded shadow-sm m-3",4,"ngIf"],["id2","bs-collapse"],[1,"p-3","row"],["class","col-lg-6 mb-1 ",4,"ngFor","ngForOf"],[1,"p-3","border","bg-white","rounded","shadow-sm","m-3"],[1,"d-flex","align-items-center","mb-2"],[1,"h6","mb-1","f-primary","ff-bold"],[1,"f-primary","small",3,"click"],[1,"text-muted","m-0","mt-2","small"],[1,"col-lg-6","mb-1"],[1,"p-3","border","bg-white","rounded","shadow-sm","w-100"],[1,"outline-btn","mt-2",3,"click"],["fas","","icon","angle-left"],[1,"border","rounded","mx-lg-2","mx-1",3,"click"],[1,"lbl_day","body-text"],[1,"lbl_date","body-text"],[1,"col-md-6","px-lg-3","p-2","col-6","slot-list"],[1,"slot-name","mt-2","py-2","text-center","lbl_slot","border",3,"ngStyle","click"],[1,"text-center","ff-medium","body-text",3,"ngStyle"],[1,"d-flex","ml-auto",3,"click"],["class","far fa-circle","style","font-size: 1.5rem;color:gray;",4,"ngIf"],["class","fas fa-check-circle","style","font-size: 1.5rem;color:gray;",4,"ngIf"],[1,"far","fa-circle",2,"font-size","1.5rem","color","gray"],[1,"fas","fa-check-circle",2,"font-size","1.5rem","color","gray"],[1,"fas","fa-check-circle"],[1,"far","fa-circle"],[1,"float-right","text-dark"],[1,"float-right","text-danger"],[1,"float-right","ff-medium","h5","f-primary"],["mdbBtn","","mdbWavesEffect","",1,"waves-light","btn-color","text-white",3,"click"],[1,"border","p-3"],[1,"ff-bold","h6"],[1,"text-muted","pt-2"],[1,"outline-btn",3,"click"],[1,"custom-control","custom-radio","del-type","mb-4"],["type","radio","name","defaultExampleRadios","mdbInput","",1,"custom-control-input",3,"id","checked","input"],[1,"custom-control-label",3,"for"]],template:function(t,i){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(13);return e.KtG(r.toggle())}),e.TgZ(9,"span",9),e._uU(10,"*"),e.qZA(),e._uU(11),e.qZA()(),e.TgZ(12,"div",10,11)(14,"div",12)(15,"div",13),e.YNc(16,K,18,10,"div",14),e.YNc(17,G,18,10,"div",14),e.qZA()()()()(),e.TgZ(18,"div",5)(19,"div",6)(20,"div",15)(21,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(28);return e.KtG(r.toggle())}),e.TgZ(22,"span",9),e._uU(23,"*"),e.qZA(),e._uU(24),e.TgZ(25,"span",16),e._uU(26),e.qZA()()(),e.TgZ(27,"div",10,17)(29,"div",18)(30,"div",13)(31,"div",19)(32,"div",20)(33,"a",21),e.NdJ("click",function(){return i.changeServiceAt("home")}),e._UZ(34,"div",22),e.TgZ(35,"a",23),e._uU(36),e.qZA(),e.TgZ(37,"a",24),e._UZ(38,"i",25),e.qZA()()(),e.TgZ(39,"div",20)(40,"a",21),e.NdJ("click",function(){return i.changeServiceAt("salon")}),e._UZ(41,"div",22),e.TgZ(42,"a",23),e._uU(43),e.qZA(),e.TgZ(44,"a",24),e._UZ(45,"i",25),e.qZA()()()()()()()()(),e.YNc(46,B,16,4,"div",26),e.TgZ(47,"div",5)(48,"div",6)(49,"div",15)(50,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(55);return e.KtG(r.toggle())}),e.TgZ(51,"span",9),e._uU(52,"*"),e.qZA(),e._uU(53),e.qZA()(),e.TgZ(54,"div",10,27)(56,"div",18)(57,"div",28)(58,"div",29)(59,"div",30),e.NdJ("click",function(){return i.previousWeek()}),e.YNc(60,$,1,0,"mdb-icon",31),e.qZA(),e.YNc(61,V,5,8,"div",32),e.TgZ(62,"div",30),e.NdJ("click",function(){return i.nextWeek()}),e._UZ(63,"mdb-icon",33),e.qZA()(),e.TgZ(64,"div",34),e.YNc(65,X,4,8,"div",35),e.qZA()()()()()(),e.TgZ(66,"div",5)(67,"div",6)(68,"div",7)(69,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(74);return e.KtG(r.toggle())}),e.TgZ(70,"span",9),e._uU(71,"*"),e.qZA(),e._uU(72),e.qZA()(),e.TgZ(73,"div",10,36)(75,"div",12)(76,"div",13),e.YNc(77,ie,10,6,"div",14),e.qZA()()()()(),e.TgZ(78,"div",5)(79,"div",6)(80,"div",15)(81,"button",8),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(88);return e.KtG(r.toggle())}),e.TgZ(82,"span",9),e._uU(83,"*"),e.qZA(),e._uU(84),e.TgZ(85,"span",16),e._uU(86),e.qZA()()(),e.TgZ(87,"div",10,37)(89,"div",18)(90,"div",13)(91,"div",19),e.YNc(92,se,7,13,"div",38),e.qZA(),e.TgZ(93,"div",39)(94,"button",40),e.NdJ("click",function(){return i.onCheckout()}),e.TgZ(95,"div")(96,"div")(97,"h6",41),e._uU(98),e.YNc(99,oe,2,2,"span",42),e.YNc(100,ae,2,2,"span",42),e.qZA(),e.TgZ(101,"p",43),e._uU(102),e.qZA()()()()()()()()()()(),e.TgZ(103,"div",44)(104,"div",45)(105,"div",46)(106,"div",47),e._UZ(107,"div",48),e.TgZ(108,"div",49)(109,"h6",50),e._uU(110),e.qZA()()(),e.TgZ(111,"div")(112,"div",51)(113,"textarea",52),e.NdJ("ngModelChange",function(r){return i.orderNotes=r}),e.qZA()(),e.TgZ(114,"div",53),e.NdJ("click",function(){return i.addCoupon()}),e.TgZ(115,"div"),e._UZ(116,"mdb-icon",54),e._uU(117),e.qZA()(),e.TgZ(118,"div",55)(119,"label",56),e._uU(120),e.qZA(),e.TgZ(121,"div",57),e.NdJ("click",function(){return i.walletChange()}),e.YNc(122,re,1,0,"i",58),e.YNc(123,le,1,0,"i",59),e._uU(124),e.YNc(125,ne,2,2,"span",42),e.YNc(126,ce,2,2,"span",42),e.qZA()(),e.TgZ(127,"div",60)(128,"p",61),e._uU(129),e.qZA(),e.TgZ(130,"p",62),e._uU(131),e.YNc(132,de,2,2,"span",63),e.YNc(133,ue,2,2,"span",63),e.qZA(),e.TgZ(134,"p",62),e._uU(135),e.YNc(136,pe,2,2,"span",64),e.YNc(137,he,2,2,"span",64),e.qZA(),e.TgZ(138,"p",62),e._uU(139),e.YNc(140,ge,2,2,"span",63),e.YNc(141,me,2,2,"span",63),e.qZA(),e.TgZ(142,"p",62),e._uU(143),e.YNc(144,_e,2,2,"span",63),e.YNc(145,fe,2,2,"span",63),e.qZA()(),e.TgZ(146,"div",65)(147,"h6",66),e._uU(148),e.YNc(149,ve,2,2,"span",67),e.YNc(150,Ce,2,2,"span",67),e.qZA()()()()()()()()()(),e.TgZ(151,"div",68,69)(153,"div",70)(154,"div",71)(155,"div",72),e.YNc(156,ye,2,1,"h5",73),e.YNc(157,ke,2,1,"h5",73),e.TgZ(158,"button",74),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(152);return e.KtG(r.hide())}),e.TgZ(159,"span",75),e._uU(160,"\xd7"),e.qZA()()(),e.TgZ(161,"div",76)(162,"div",77)(163,"input",78),e.NdJ("ngModelChange",function(r){return i.house=r}),e.qZA(),e.TgZ(164,"label",79),e._uU(165),e.qZA()(),e.TgZ(166,"div",77)(167,"input",78),e.NdJ("ngModelChange",function(r){return i.address=r}),e.qZA(),e.TgZ(168,"label",79),e._uU(169),e.qZA()(),e.TgZ(170,"div",77)(171,"input",80),e.NdJ("ngModelChange",function(r){return i.landmark=r}),e.qZA(),e.TgZ(172,"label",81),e._uU(173),e.qZA()(),e.TgZ(174,"div",77)(175,"input",82),e.NdJ("ngModelChange",function(r){return i.zipcode=r}),e.qZA(),e.TgZ(176,"label",83),e._uU(177),e.qZA()(),e.TgZ(178,"div",84)(179,"select",85),e.NdJ("ngModelChange",function(r){return i.title=r}),e.TgZ(180,"option",86),e._uU(181),e.qZA(),e.TgZ(182,"option",87),e._uU(183),e.qZA(),e.TgZ(184,"option",88),e._uU(185),e.qZA()()()(),e.TgZ(186,"div",89)(187,"button",90),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(152);return e.KtG(r.hide())}),e._uU(188),e.qZA(),e.YNc(189,xe,2,1,"button",91),e.YNc(190,Te,2,1,"button",91),e.qZA()()()(),e.TgZ(191,"div",92,93)(193,"div",94)(194,"div",71)(195,"div",72)(196,"h6",95),e._uU(197),e.qZA(),e.TgZ(198,"button",74),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(192);return e.KtG(r.hide())}),e.TgZ(199,"span",75),e._uU(200,"\xd7"),e.qZA()()(),e.TgZ(201,"div",96),e.YNc(202,Ze,10,3,"div",97),e.qZA()()()(),e.TgZ(203,"div",98,99)(205,"div",100)(206,"div",71)(207,"div",72)(208,"h6",101),e._uU(209),e.qZA(),e.TgZ(210,"button",74),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(204);return e.KtG(r.hide())}),e.TgZ(211,"span",102),e._uU(212,"\xd7"),e.qZA()()(),e.TgZ(213,"div",96)(214,"div",103),e._UZ(215,"img",104),e.TgZ(216,"h6",105),e._uU(217),e.qZA()()(),e.TgZ(218,"div",106)(219,"a",107),e.NdJ("click",function(){return i.onHome()}),e._uU(220),e.qZA(),e.TgZ(221,"a",108),e.NdJ("click",function(){return i.onOrderHistory()}),e._uU(222),e.qZA()()()()(),e.TgZ(223,"div",109,110)(225,"div",70)(226,"div",71)(227,"div",72)(228,"h5",95),e._uU(229),e.qZA(),e.TgZ(230,"button",74),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(224);return e.KtG(r.hide())}),e.TgZ(231,"span",75),e._uU(232,"\xd7"),e.qZA()()(),e.TgZ(233,"div",96)(234,"div")(235,"div",84)(236,"input",111),e.NdJ("ngModelChange",function(r){return i.cardNumber=r}),e.qZA(),e.TgZ(237,"label",112),e._uU(238),e.qZA()(),e.TgZ(239,"div",84)(240,"input",113),e.NdJ("ngModelChange",function(r){return i.cvv=r}),e.qZA(),e.TgZ(241,"label",114),e._uU(242),e.qZA()(),e.TgZ(243,"div",84)(244,"input",115),e.NdJ("ngModelChange",function(r){return i.expiryDate=r}),e.qZA(),e.TgZ(245,"label",116),e._uU(246),e.qZA()(),e.TgZ(247,"div",84)(248,"input",117),e.NdJ("ngModelChange",function(r){return i.cardHolderName=r}),e.qZA(),e.TgZ(249,"label",118),e._uU(250),e.qZA()(),e.TgZ(251,"div",84)(252,"input",119),e.NdJ("ngModelChange",function(r){return i.cardEmail=r}),e.qZA(),e.TgZ(253,"label",120),e._uU(254),e.qZA()()()(),e.TgZ(255,"div",106)(256,"a",121),e.NdJ("click",function(){return i.submitData()}),e._uU(257),e.qZA(),e.TgZ(258,"a",122),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(224);return e.KtG(r.hide())}),e._uU(259),e.qZA()()()()(),e.TgZ(260,"div",98,123)(262,"div",124)(263,"div",71)(264,"div",125)(265,"p",126),e._uU(266),e.qZA(),e.TgZ(267,"button",74),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(261);return e.KtG(r.hide())}),e.TgZ(268,"span",102),e._uU(269,"\xd7"),e.qZA()()(),e.TgZ(270,"div",96),e.YNc(271,be,6,6,"div",127),e.qZA(),e.TgZ(272,"div",106)(273,"a",128),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(261);return e.KtG(r.hide())}),e._uU(274),e.qZA(),e.TgZ(275,"a",129),e.NdJ("click",function(){return i.addNewCard()}),e._uU(276),e.qZA(),e.TgZ(277,"a",129),e.NdJ("click",function(){return i.createPayment()}),e._uU(278),e.qZA()()()()(),e.TgZ(279,"div",130,131)(281,"div",132)(282,"div",71)(283,"div",125)(284,"p",133),e._uU(285),e.qZA(),e.TgZ(286,"button",74),e.NdJ("click",function(){e.CHM(s);const r=e.MAs(280);return e.KtG(r.hide())}),e.TgZ(287,"span",102),e._uU(288,"\xd7"),e.qZA()()(),e.TgZ(289,"div",96),e._UZ(290,"ngx-paypal",134),e.qZA()()()()}2&t&&(e.xp6(11),e.lnq(" ",i.util.translate("Cart")," (",i.serviceCart.totalItemInCart," ",i.util.translate("items")," ) "),e.xp6(5),e.Q6J("ngForOf",i.serviceCart.serviceCart),e.xp6(1),e.Q6J("ngForOf",i.serviceCart.packagesCart),e.xp6(7),e.hij("",i.util.translate("Service At")," "),e.xp6(2),e.hij(" \xa0 ",i.util.translate("home"==i.serviceAt?"Home":"Salon"),""),e.xp6(7),e.Q6J("ngStyle",e.VKq(113,k,"home"==i.serviceAt?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.DdM(115,Ae)),e.xp6(1),e.Q6J("ngStyle",e.VKq(116,g,"home"==i.serviceAt?"white":null)),e.xp6(1),e.hij(" ",i.util.translate("Home")," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(118,g,"white")),e.xp6(2),e.Q6J("ngStyle",e.VKq(120,k,"salon"==i.serviceAt?"#0b19df":null)),e.xp6(1),e.Q6J("ngStyle",e.DdM(122,Me)),e.xp6(1),e.Q6J("ngStyle",e.VKq(123,g,"salon"==i.serviceAt?"white":null)),e.xp6(1),e.hij(" ",i.util.translate("Salon")," "),e.xp6(2),e.Q6J("ngStyle",e.VKq(125,g,"white")),e.xp6(1),e.Q6J("ngIf","home"==i.serviceAt),e.xp6(7),e.AsE("",i.util.translate("Select Time")," ",i.selectedSlotIndex," "),e.xp6(7),e.Q6J("ngIf",0!=i.currentWeek),e.xp6(1),e.Q6J("ngForOf",i.days),e.xp6(4),e.Q6J("ngForOf",i.slotList),e.xp6(7),e.AsE(" ",i.util.translate("Select Specialist")," ",i.specialistName," "),e.xp6(5),e.Q6J("ngForOf",i.specialist),e.xp6(7),e.hij("",i.util.translate("Payment")," "),e.xp6(2),e.hij(" \xa0 ",i.payMethodName,""),e.xp6(6),e.Q6J("ngForOf",i.paymentMethodList),e.xp6(6),e.hij(" ",i.util.translate("Grand Total")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij(" ",i.util.translate("Proceed to Checkout")," "),e.xp6(5),e.Q6J("ngStyle",e.VKq(127,v,"url("+i.api.mediaURL+i.freelancerCover+"),url(assets/images/placeholder.jpg)")),e.xp6(3),e.Oqu(i.freelancerName),e.xp6(3),e.Q6J("ngModel",i.orderNotes),e.xp6(4),e.hij(" ",i.util.translate("Apply Coupon")," "),e.xp6(1),e.Q6J("ngStyle",e.VKq(129,g,i.balance<=0||i.serviceCart.coupon?"gray":"black")),e.xp6(2),e.AsE("",i.util.app_name," ",i.util.translate("Wallet Balance")," "),e.xp6(2),e.Q6J("ngIf",1==i.walletCheck),e.xp6(1),e.Q6J("ngIf",0==i.walletCheck),e.xp6(1),e.hij(" ",i.util.translate("Available Balance")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.cside),e.xp6(1),e.Q6J("ngIf","right"==i.util.cside),e.xp6(3),e.Oqu(i.util.translate("Bill Details")),e.xp6(2),e.hij(" ",i.util.translate("Service Total")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij(" ",i.util.translate("Total Discount")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij("",i.util.translate("Taxes and Charges")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(2),e.hij("",i.util.translate("Distance Charge")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(3),e.hij("",i.util.translate("To Pay")," "),e.xp6(1),e.Q6J("ngIf","left"==i.util.currencySide),e.xp6(1),e.Q6J("ngIf","right"==i.util.currencySide),e.xp6(6),e.Q6J("ngIf",1==i.isNewAddress),e.xp6(1),e.Q6J("ngIf",0==i.isNewAddress),e.xp6(6),e.Q6J("ngModel",i.house)("ngModelOptions",e.DdM(131,u)),e.xp6(2),e.hij("",i.util.translate("House / Flat NO")," "),e.xp6(2),e.Q6J("ngModel",i.address)("ngModelOptions",e.DdM(132,u)),e.xp6(2),e.hij("",i.util.translate("Address")," "),e.xp6(2),e.Q6J("ngModel",i.landmark)("ngModelOptions",e.DdM(133,u)),e.xp6(2),e.hij("",i.util.translate("Landmark")," "),e.xp6(2),e.Q6J("ngModel",i.zipcode)("ngModelOptions",e.DdM(134,u)),e.xp6(2),e.hij("",i.util.translate("Pincode")," "),e.xp6(2),e.Q6J("ngModel",i.title),e.xp6(2),e.hij("",i.util.translate("Home")," "),e.xp6(2),e.hij("",i.util.translate("Office")," "),e.xp6(2),e.hij("",i.util.translate("Other")," "),e.xp6(3),e.hij("",i.util.translate("Cancel")," "),e.xp6(1),e.Q6J("ngIf",1==i.isNewAddress),e.xp6(1),e.Q6J("ngIf",0==i.isNewAddress),e.xp6(7),e.hij("",i.util.translate("Available Coupons")," "),e.xp6(5),e.Q6J("ngForOf",i.offersList),e.xp6(7),e.hij("",i.util.translate("Order Success")," "),e.xp6(8),e.hij("",i.util.translate("Thank You! for your order")," "),e.xp6(3),e.hij("",i.util.translate("Back To Home")," "),e.xp6(2),e.hij(" ",i.util.translate("Track My Order")," "),e.xp6(7),e.hij("",i.util.translate("Add New Card")," "),e.xp6(7),e.Q6J("ngModel",i.cardNumber)("ngModelOptions",e.DdM(135,u)),e.xp6(2),e.hij("",i.util.translate("Card Number")," "),e.xp6(2),e.Q6J("ngModel",i.cvv)("ngModelOptions",e.DdM(136,u)),e.xp6(2),e.hij("",i.util.translate("CVC")," "),e.xp6(2),e.Q6J("ngModel",i.expiryDate)("ngModelOptions",e.DdM(137,u)),e.xp6(2),e.hij("",i.util.translate("Expire Date")," "),e.xp6(2),e.Q6J("ngModel",i.cardHolderName)("ngModelOptions",e.DdM(138,u)),e.xp6(2),e.hij("",i.util.translate("Card Holder Name")," "),e.xp6(2),e.Q6J("ngModel",i.cardEmail)("ngModelOptions",e.DdM(139,u)),e.xp6(2),e.hij("",i.util.translate("Email")," "),e.xp6(3),e.hij(" ",i.util.translate("Add New Card")," "),e.xp6(2),e.hij("",i.util.translate("Cancel")," "),e.xp6(7),e.Oqu(i.util.translate("Pay With Stripe")),e.xp6(5),e.Q6J("ngForOf",i.stripeCardList),e.xp6(3),e.Oqu(i.util.translate("Close")),e.xp6(2),e.hij(" ",i.util.translate("Add New Card"),""),e.xp6(2),e.hij(" ",i.util.translate("Payment")," "),e.xp6(7),e.hij(" ",i.util.translate("Pay with PayPal")," "),e.xp6(5),e.Q6J("config",i.payPalConfig))},dependencies:[C.sg,C.O5,C.PC,h.mT,h.b6,h.Hq,h.WF,h.oB,h.Ui,h.XI,_.YN,_.Kr,_.Fj,_.EJ,_.JJ,_.On,Z.nu],styles:['@charset "UTF-8";']}),a})()}];let Se=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[y.Bz.forChild(we),y.Bz]}),a})(),Ne=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[C.ez,Se,h.yi.forRoot(),_.u5,Z.vj]}),a})()}}]);