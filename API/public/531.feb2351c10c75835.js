"use strict";(self.webpackChunksalon_web=self.webpackChunksalon_web||[]).push([[531],{9531:(ut,m,l)=>{l.r(m),l.d(m,{AppointmentDetailsModule:()=>gt});var p=l(6895),d=l(4553),h=l(5439),t=l(4650),v=l(7241),x=l(5830),c=l(7890),f=l(502),_=l(4006);const C=["ratingModal"],b=["addReviews"],A=function(){return{"border-radius":"5px",height:"25px",width:"100%"}};function Z(n,s){1&n&&(t.TgZ(0,"div"),t._UZ(1,"ngx-skeleton-loader",42),t.qZA()),2&n&&(t.xp6(1),t.Q6J("theme",t.DdM(1,A)))}const w=function(){return[1,2,3,4,1,1,2,3,4]};function M(n,s){1&n&&(t.TgZ(0,"div"),t.YNc(1,Z,2,2,"div",41),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,w)))}function y(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",i.util.currencySymbol," ",e.price,"")}}function T(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",e.price," ",i.util.currencySymbol,"")}}function O(n,s){if(1&n&&(t.TgZ(0,"p",70),t.YNc(1,y,2,2,"span",1),t.YNc(2,T,2,2,"span",1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide)}}function P(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",i.util.currencySymbol," ",e.off,"")}}function q(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",e.off," ",i.util.currencySymbol,"")}}function I(n,s){if(1&n&&(t.TgZ(0,"p",70),t.YNc(1,P,2,2,"span",1),t.YNc(2,q,2,2,"span",1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide)}}function k(n,s){if(1&n&&(t.TgZ(0,"div",66)(1,"div",67)(2,"p",68),t._uU(3),t.qZA(),t.YNc(4,O,3,2,"p",69),t.YNc(5,I,3,2,"p",69),t.qZA()()),2&n){const e=s.$implicit;t.xp6(3),t.hij(" ",e.name,""),t.xp6(1),t.Q6J("ngIf",0==e.discount),t.xp6(1),t.Q6J("ngIf",e.discount>0)}}function S(n,s){if(1&n&&(t.TgZ(0,"div",63)(1,"label",64),t._uU(2),t.qZA(),t._UZ(3,"br"),t.YNc(4,k,6,3,"div",65),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.util.translate("Services")),t.xp6(2),t.Q6J("ngForOf",e.orders.services)}}function D(n,s){if(1&n&&(t.TgZ(0,"p",74),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.hij(" - ",e.name," ")}}function U(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",i.util.currencySymbol," ",e.price,"")}}function J(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",e.price," ",i.util.currencySymbol,"")}}function N(n,s){if(1&n&&(t.TgZ(0,"p",70),t.YNc(1,U,2,2,"span",1),t.YNc(2,J,2,2,"span",1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide)}}function Q(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",i.util.currencySymbol," ",e.off,"")}}function Y(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.AsE(" - ",e.off," ",i.util.currencySymbol,"")}}function R(n,s){if(1&n&&(t.TgZ(0,"p",70),t.YNc(1,Q,2,2,"span",1),t.YNc(2,Y,2,2,"span",1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide)}}function E(n,s){if(1&n&&(t.TgZ(0,"div",66)(1,"div",67)(2,"div",71)(3,"p",72),t._uU(4),t.qZA(),t.YNc(5,D,2,1,"p",73),t.qZA(),t.YNc(6,N,3,2,"p",69),t.YNc(7,R,3,2,"p",69),t.qZA()()),2&n){const e=s.$implicit;t.xp6(4),t.Oqu(e.name),t.xp6(1),t.Q6J("ngForOf",e.services),t.xp6(1),t.Q6J("ngIf",0==e.discount),t.xp6(1),t.Q6J("ngIf",e.discount>0)}}function L(n,s){if(1&n&&(t.TgZ(0,"div",63)(1,"label",64),t._uU(2),t.qZA(),t._UZ(3,"br"),t.YNc(4,E,8,4,"div",65),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(e.util.translate("Packages")),t.xp6(2),t.Q6J("ngForOf",e.orders.packages)}}function z(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.itemTotal,"")}}function F(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.itemTotal," ",e.util.currencySymbol,"")}}function j(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.taxCharge,"")}}function $(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.taxCharge," ",e.util.currencySymbol,"")}}function B(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.distance_cost,"")}}function G(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.distance_cost," ",e.util.currencySymbol,"")}}function H(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.discount,"")}}function K(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.discount," ",e.util.currencySymbol,"")}}function W(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.wallet_price," ")}}function V(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.wallet_price," ",e.util.currencySymbol,"")}}function X(n,s){if(1&n&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",e.util.currencySymbol," ",e.grand_total,"")}}function tt(n,s){if(1&n&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",e.grand_total," ",e.util.currencySymbol,"")}}function et(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.presentAlertConfirm())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.util.translate("Rate Appointment")," ")}}function nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.changeStatus())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.util.translate("Cancel Appointment")," ")}}const u=function(n){return{"background-image":n}};function it(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",43)(1,"h4",44),t._uU(2),t.qZA(),t.TgZ(3,"div",45),t._UZ(4,"div",46)(5,"div",47)(6,"div",47)(7,"div",47),t.qZA(),t.TgZ(8,"div",30)(9,"div",48)(10,"div",12)(11,"div",13)(12,"div",14),t._UZ(13,"div",15),t.TgZ(14,"div",16)(15,"p",17),t._uU(16),t.qZA(),t.TgZ(17,"p",18),t._uU(18),t.qZA()()(),t.TgZ(19,"div",19)(20,"label",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.printInvoice())}),t._uU(21),t.qZA()()(),t.TgZ(22,"label",50),t._uU(23),t.qZA(),t.YNc(24,S,5,2,"div",51),t.YNc(25,L,5,2,"div",51),t.TgZ(26,"div",52)(27,"div",53)(28,"h6"),t._uU(29),t.qZA(),t.TgZ(30,"h6",54),t.YNc(31,z,2,2,"span",1),t.YNc(32,F,2,2,"span",1),t.qZA()(),t.TgZ(33,"div",53)(34,"h6"),t._uU(35),t.qZA(),t.TgZ(36,"h6",54),t.YNc(37,j,2,2,"span",1),t.YNc(38,$,2,2,"span",1),t.qZA()(),t.TgZ(39,"div",53)(40,"h6"),t._uU(41),t.qZA(),t.TgZ(42,"h6",54),t.YNc(43,B,2,2,"span",1),t.YNc(44,G,2,2,"span",1),t.qZA()(),t.TgZ(45,"div",53)(46,"h6"),t._uU(47),t.qZA(),t.TgZ(48,"h6",54),t.YNc(49,H,2,2,"span",1),t.YNc(50,K,2,2,"span",1),t.qZA()(),t.TgZ(51,"div",55)(52,"h6"),t._uU(53),t.qZA(),t.TgZ(54,"h6",54),t.YNc(55,W,2,2,"span",1),t.YNc(56,V,2,2,"span",1),t.qZA()(),t.TgZ(57,"div",55)(58,"h6",56),t._uU(59),t.qZA(),t.TgZ(60,"h6",57),t.YNc(61,X,2,2,"span",58),t.YNc(62,tt,2,2,"span",58),t.qZA()()(),t.TgZ(63,"div",59)(64,"h6"),t._uU(65),t.qZA(),t.TgZ(66,"h6",54),t._uU(67),t.qZA()(),t.TgZ(68,"div",53)(69,"h6"),t._uU(70),t.qZA(),t.TgZ(71,"h6",54),t._uU(72),t.qZA()(),t.TgZ(73,"div",53)(74,"h6"),t._uU(75),t.qZA(),t.TgZ(76,"h6",54),t._uU(77),t.qZA()()()()(),t.TgZ(78,"div",60),t.YNc(79,et,2,1,"div",61),t.YNc(80,nt,2,1,"div",62),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.util.translate("Order Details")," "),t.xp6(11),t.Q6J("ngStyle",t.VKq(34,u,"url("+e.api.mediaURL+e.freelancerCover+")")),t.xp6(3),t.Oqu(e.freelancerName),t.xp6(2),t.Oqu(e.freelancerEmail),t.xp6(3),t.hij(" ",e.util.translate("Print")," "),t.xp6(2),t.Oqu(e.address),t.xp6(1),t.Q6J("ngIf",e.orders&&e.orders.services&&e.orders.services.length>0),t.xp6(1),t.Q6J("ngIf",e.orders&&e.orders.packages&&e.orders.packages.length>0),t.xp6(4),t.hij(" ",e.util.translate("Item Total")," "),t.xp6(2),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide),t.xp6(3),t.Oqu(e.util.translate("Taxes & charges")),t.xp6(2),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide),t.xp6(3),t.Oqu(e.util.translate("Delivery Cost")),t.xp6(2),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide),t.xp6(3),t.Oqu(e.util.translate("Discount")),t.xp6(2),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide),t.xp6(3),t.Oqu(e.util.translate("Wallet Discount")),t.xp6(2),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide),t.xp6(3),t.Oqu(e.util.translate("Grand Total")),t.xp6(2),t.Q6J("ngIf","left"==e.util.currencySide),t.xp6(1),t.Q6J("ngIf","right"==e.util.currencySide),t.xp6(3),t.Oqu(e.util.translate("Appointment Id")),t.xp6(2),t.hij(" ",e.id," "),t.xp6(3),t.Oqu(e.util.translate("PAYMENT")),t.xp6(2),t.hij(" ",e.paymentBy[e.pay_method]," "),t.xp6(3),t.Oqu(e.util.translate("Appointment ON")),t.xp6(2),t.hij(" ",e.save_date," "),t.xp6(2),t.Q6J("ngIf",4==e.status),t.xp6(1),t.Q6J("ngIf",0==e.status||1==e.status||2==e.status)}}function ot(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",78)(2,"p",68),t._uU(3),t.qZA(),t.TgZ(4,"mdb-icon",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.openServiceRating(a.id,a.name,a.cover))}),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(3),t.hij(" ",e.name,"")}}function st(n,s){if(1&n&&(t.TgZ(0,"div",77)(1,"label",64),t._uU(2),t.qZA(),t._UZ(3,"br"),t.YNc(4,ot,5,1,"div",65),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.util.translate("Services")),t.xp6(2),t.Q6J("ngForOf",e.orders.services)}}function at(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",66)(1,"div",78)(2,"div",71)(3,"p",72),t._uU(4),t.qZA()(),t.TgZ(5,"mdb-icon",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.openPackageRating(a.id,a.name,a.cover))}),t.qZA()()()}if(2&n){const e=s.$implicit;t.xp6(4),t.Oqu(e.name)}}function rt(n,s){if(1&n&&(t.TgZ(0,"div",77)(1,"label",64),t._uU(2),t.qZA(),t._UZ(3,"br"),t.YNc(4,at,6,1,"div",65),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.util.translate("Packages")),t.xp6(2),t.Q6J("ngForOf",e.orders.packages)}}function lt(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.util.translate("Continue"),"")}}function ct(n,s){1&n&&t._UZ(0,"div",79)}const pt=[{path:"",component:(()=>{class n{constructor(e,i,o,a,r){this.util=e,this.api=i,this.route=o,this.navCtrl=a,this.router=r,this.id="",this.address="",this.myLat="",this.myLng="",this.itemTotal=0,this.taxCharge=0,this.distance_cost=0,this.discount=0,this.grand_total=0,this.wallet_price=0,this.pay_method=0,this.status=0,this.wallet_used=0,this.save_date="",this.addressName=["home","work","other"],this.freelancerCover="",this.freelancerName="",this.freelancerMobile="",this.freelancerEmail="",this.apiCalled=!1,this.paymentBy=["NA","COD","Stripe","PayPal","PayTM","Razorpay","Instamojo","Paystack","Flutterwave"],this.rate=2,this.ratingsList=[],this.isLogin=!1,this.ownerId="",this.externalId="",this.type="",this.cover="",this.name="",this.notes="",this.id=this.route.snapshot.paramMap.get("id"),console.log(this.id),this.id&&""!=this.id&&null!=this.id&&this.getInfo()}ngOnInit(){}getInfo(){this.apiCalled=!1,this.api.post_private("v1/appoinments/getInfo",{id:this.id}).then(e=>{if(console.log(e),this.apiCalled=!0,e&&e.status&&200==e.status&&e.data&&e.data.id){const o=e.data;if((a=>{try{return JSON.parse(a),!0}catch{return!1}})(o.items)?(this.orders=JSON.parse(o.items),console.log(this.orders)):this.orders=[],1==o.appointments_to){if((a=>{try{return JSON.parse(a),!0}catch{return!1}})(o.address)){var i=JSON.parse(o.address);console.log(i),this.address=i.house+" "+i.landmark+" "+i.address+" "+i.pincode,this.myLat=i.lat,this.myLng=i.lng}}else this.address="At Salon";0==o.salon_id&&o.individualInfo?(this.freelancerCover=o.ownerInfo.cover,this.freelancerName=o.ownerInfo.first_name+" "+o.ownerInfo.last_name,this.freelancerEmail=o.ownerInfo.email,this.freelancerMobile=o.ownerInfo.mobile,this.ownerId=o.freelancer_id):(this.freelancerCover=o.ownerInfo.cover,this.freelancerName=o.salonInfo.name,this.freelancerEmail=o.ownerInfo.email,this.freelancerMobile=o.ownerInfo.mobile,this.ownerId=o.salon_id),this.itemTotal=o.total,this.taxCharge=o.serviceTax,this.distance_cost=o.distance_cost,this.discount=o.discount,this.grand_total=o.grand_total,this.pay_method=o.pay_method,this.wallet_price=o.wallet_price,this.wallet_used=o.wallet_used,this.save_date=h(o.save_date).format("llll")+" "+o.slot,this.status=o.status}},e=>{console.log(e),this.apiCalled=!0,this.util.apiErrorHandler(e)}).catch(e=>{console.log(e),this.apiCalled=!0,this.util.apiErrorHandler(e)})}printInvoice(){window.open(this.api.baseUrl+"v1/appointments/printInvoice?id="+this.id+"&token="+localStorage.getItem("token"),"_blank")}changeStatus(){this.util.start(),this.api.post_private("v1/appoinments/update",{id:this.id,status:5}).then(e=>{console.log(e),this.util.stop(),this.util.suucessMessage("Updated"),this.navCtrl.back()},e=>{this.util.stop(),console.log(e),this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(e=>{this.util.stop(),console.log(e),this.util.errorMessage(this.util.translate("Something went wrong"))})}presentAlertConfirm(){this.ratingModal.show()}getOwnerRating(){console.log("get ratings",this.ownerId),this.ratingModal.hide(),this.util.start(),this.ratingsList=[],this.api.post_private("v1/owner_reviews/getOwnerReviews",{id:this.ownerId}).then(e=>{this.util.stop(),console.log(e),e&&e.status&&200==e.status&&(e.data.forEach(i=>{this.ratingsList.push(parseInt(i.rating))}),console.log(this.ratingsList)),this.type="owner",this.name=this.freelancerName,this.cover=this.freelancerCover,this.addReviews.show()},e=>{this.util.stop(),console.log(e),this.ratingsList=[],this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(e=>{this.util.stop(),console.log(e),this.ratingsList=[],this.util.errorMessage(this.util.translate("Something went wrong"))})}openServiceRating(e,i,o){this.type="service",this.name=i,this.cover=o,this.externalId=e,this.ratingModal.hide(),this.addReviews.show()}openPackageRating(e,i,o){this.type="package",this.name=i,this.cover=o,this.externalId=e,this.ratingModal.hide(),this.addReviews.show()}saveReview(){if(""==this.notes)return this.util.errorMessage("Please add comments"),!1;"owner"==this.type?this.saveOwnerRating():"service"==this.type?this.saveServiceRating():"package"==this.type&&this.savePackageRating()}savePackageRating(){const e={uid:localStorage.getItem("uid"),package_id:this.externalId,freelancer_id:this.ownerId,notes:this.notes,rating:this.rate,status:1};console.log(e),this.isLogin=!0,this.api.post_private("v1/packages_reviews/save",e).then(i=>{this.isLogin=!1,this.util.suucessMessage("Review saved"),this.addReviews.hide(),this.rate=2,this.cover="",this.notes=""},i=>{console.log(i),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))})}saveServiceRating(){console.log(this.ownerId);const e={uid:localStorage.getItem("uid"),service_id:this.externalId,freelancer_id:this.ownerId,notes:this.notes,rating:this.rate,status:1};console.log(e),this.isLogin=!0,this.api.post_private("v1/service_reviews/save",e).then(i=>{this.isLogin=!1,this.util.suucessMessage("Review saved"),this.addReviews.hide(),this.rate=2,this.cover="",this.notes=""},i=>{console.log(i),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(i=>{console.log(i),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))})}saveOwnerRating(){console.log("save owner rating",this.rate),this.ratingsList.push(this.rate);const e=this.ratingsList.reduce((a,r)=>a+r),i=(e/this.ratingsList.length).toFixed(2);console.log(e,i);const o={uid:localStorage.getItem("uid"),freelancer_id:this.ownerId,notes:this.notes,rating:this.rate,status:1};this.isLogin=!0,this.api.post_private("v1/owner_reviews/save",o).then(a=>{if(console.log(a),a&&a.status&&200==a.status){const r={id:this.ownerId,total_rating:this.ratingsList.length,rating:parseFloat(i).toFixed(2)};this.api.post_private("v1/owner_reviews/updateOwnerReviews",r).then(g=>{this.isLogin=!1,this.util.suucessMessage("Review saved"),this.rate=2,this.cover="",this.notes="",this.addReviews.hide()},g=>{console.log(g),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(g=>{console.log(g),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))})}else this.isLogin=!1},a=>{console.log(a),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))}).catch(a=>{console.log(a),this.isLogin=!1,this.util.errorMessage(this.util.translate("Something went wrong"))})}getProfile(){return this.api.mediaURL+this.cover}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.f),t.Y36(x.s),t.Y36(d.gz),t.Y36(p.Ye),t.Y36(d.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-appointment-details"]],viewQuery:function(e,i){if(1&e&&(t.Gf(C,5),t.Gf(b,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.ratingModal=o.first),t.iGM(o=t.CRH())&&(i.addReviews=o.first)}},decls:65,vars:25,consts:[[1,"container"],[4,"ngIf"],["class","main-container",4,"ngIf"],["mdbModal","","tabindex","-1","role","dialog","aria-labelledby","myBasicModalLabel","aria-hidden","true",1,"modal","fade","right",2,"z-index","999999"],["ratingModal","mdbModal"],["role","document",1,"modal-dialog","modal-full-height","modal-right",2,"margin","0px","padding","0px","height","100%"],[1,"modal-content"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],["id","myModalLabel",1,"modal-title","w-100"],[1,"modal-body","location_body",2,"overflow","scroll"],[1,"main-box"],[1,"rest_details"],[1,"basic_details"],[1,"order-image","back_image",3,"ngStyle"],[1,"name","ml-2"],[1,"head-text","mb-0"],[1,"order-address"],[1,"extra_btns"],["fas","","icon","star","size","sm",2,"color","orange","cursor","pointer",3,"click"],["class","order-body",4,"ngIf"],["mdbModal","","id","frameModalTop","tabindex","-1","role","dialog","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade","left",2,"z-index","999999"],["addReviews","mdbModal"],["role","document",1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-header","text-center"],[1,"modal-title","w-100","font-weight-bold"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"modal-body","location_body"],[1,"edit_profile"],[1,"row"],[1,"col-lg-2"],[1,"col-lg-12"],[1,"round_image",3,"ngStyle"],[1,"RatingBtns"],[1,"fa-star",3,"ngClass","click"],[1,"hint_lbl"],["rows","3","mdbInput","","id","form1",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer","d-flex","justify-content-center"],["mdbBtn","","color","default","mdbWavesEffect","",1,"waves-light",3,"disabled","click"],["class","spinner-border","role","status",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"theme"],[1,"main-container"],[1,"order","mt-4","mb-2"],[1,"divider"],[1,"first-long"],[1,"second-dots"],[1,"col-md-12","col-sm-12","col-lg-12","col-xl-12"],[1,"track_store",3,"click"],[1,"res_location"],["class","order-body border-bottom",4,"ngIf"],[1,"billing","mt-3","border-bottom"],[1,"d-flex","mb-2"],[1,"ml-auto"],[1,"d-flex","mb-3"],[1,"bold-text"],[1,"ml-auto","bold-text"],["class","bold-text",4,"ngIf"],[1,"d-flex","mt-3","mb-2"],[1,"btn_div"],["class","rates","mdbWavesEffect","",3,"click",4,"ngIf"],["class","btns","mdbWavesEffect","",3,"click",4,"ngIf"],[1,"order-body","border-bottom"],[2,"font-size","14px","font-family","bold"],["class","mb-3",4,"ngFor","ngForOf"],[1,"mb-3"],[1,"d-flex","align-items-center"],[1,"item-name","text-uppercase",2,"margin","0px !important","font-size","12px","font-family","bold"],["style","margin: 0px !important;",4,"ngIf"],[2,"margin","0px !important"],[1,"item-name","text-uppercase",2,"margin","0px !important"],[2,"font-size","12px","font-family","bold"],["style","font-size: 10px;",4,"ngFor","ngForOf"],[2,"font-size","10px"],["mdbWavesEffect","",1,"rates",3,"click"],["mdbWavesEffect","",1,"btns",3,"click"],[1,"order-body"],[1,"d-flex",2,"justify-content","space-between"],["role","status",1,"spinner-border"]],template:function(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.YNc(1,M,2,2,"div",1),t.YNc(2,it,81,36,"div",2),t.qZA(),t.TgZ(3,"div",3,4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"button",8),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(4);return t.KtG(r.hide())}),t.TgZ(9,"span",9),t._uU(10,"\xd7"),t.qZA()(),t.TgZ(11,"h4",10),t._uU(12),t.qZA()(),t.TgZ(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14),t._UZ(17,"div",15),t.TgZ(18,"div",16)(19,"p",17),t._uU(20),t.qZA(),t.TgZ(21,"p",18),t._uU(22),t.qZA()()(),t.TgZ(23,"div",19)(24,"mdb-icon",20),t.NdJ("click",function(){return i.getOwnerRating()}),t.qZA()()(),t.YNc(25,st,5,2,"div",21),t.YNc(26,rt,5,2,"div",21),t.qZA()()()()(),t.TgZ(27,"div",22,23)(29,"div",24)(30,"div",6)(31,"div",25)(32,"p",26),t._uU(33),t.qZA(),t.TgZ(34,"button",27),t.NdJ("click",function(){t.CHM(o);const r=t.MAs(28);return t.KtG(r.hide())}),t.TgZ(35,"span",9),t._uU(36,"\xd7"),t.qZA()()(),t.TgZ(37,"div",28)(38,"div",29)(39,"div",30),t._UZ(40,"div",31),t.TgZ(41,"div",32)(42,"div",30)(43,"div",32),t._UZ(44,"div",33)(45,"br"),t.TgZ(46,"div",30)(47,"div",32)(48,"div",34)(49,"i",35),t.NdJ("click",function(){return i.rate=1}),t.qZA(),t.TgZ(50,"i",35),t.NdJ("click",function(){return i.rate=2}),t.qZA(),t.TgZ(51,"i",35),t.NdJ("click",function(){return i.rate=3}),t.qZA(),t.TgZ(52,"i",35),t.NdJ("click",function(){return i.rate=4}),t.qZA(),t.TgZ(53,"i",35),t.NdJ("click",function(){return i.rate=5}),t.qZA()()()(),t._UZ(54,"br"),t.TgZ(55,"div",30)(56,"div",32)(57,"label",36),t._uU(58),t.qZA(),t.TgZ(59,"textarea",37),t.NdJ("ngModelChange",function(r){return i.notes=r}),t.qZA()()()()()(),t._UZ(60,"div",31),t.qZA()()(),t.TgZ(61,"div",38)(62,"button",39),t.NdJ("click",function(){return i.saveReview()}),t.YNc(63,lt,2,1,"span",1),t.YNc(64,ct,1,0,"div",40),t.qZA()()()()()}2&e&&(t.xp6(1),t.Q6J("ngIf",0==i.apiCalled),t.xp6(1),t.Q6J("ngIf",1==i.apiCalled),t.xp6(10),t.hij(" ",i.util.translate("Rate Your experience")," "),t.xp6(5),t.Q6J("ngStyle",t.VKq(21,u,"url("+i.api.mediaURL+i.freelancerCover+")")),t.xp6(3),t.Oqu(i.freelancerName),t.xp6(2),t.Oqu(i.freelancerEmail),t.xp6(3),t.Q6J("ngIf",i.orders&&i.orders.services&&i.orders.services.length>0),t.xp6(1),t.Q6J("ngIf",i.orders&&i.orders.packages&&i.orders.packages.length>0),t.xp6(7),t.AsE("",i.util.translate("Add Reviews to")," ",i.name," "),t.xp6(11),t.Q6J("ngStyle",t.VKq(23,u,"url("+i.getProfile()+"),url(assets/icon.png)")),t.xp6(5),t.Q6J("ngClass",i.rate>=1?"fas":"far"),t.xp6(1),t.Q6J("ngClass",i.rate>=2?"fas":"far"),t.xp6(1),t.Q6J("ngClass",i.rate>=3?"fas":"far"),t.xp6(1),t.Q6J("ngClass",i.rate>=4?"fas":"far"),t.xp6(1),t.Q6J("ngClass",i.rate>=5?"fas":"far"),t.xp6(5),t.Oqu(i.util.translate("Comments")),t.xp6(1),t.Q6J("ngModel",i.notes),t.xp6(3),t.Q6J("disabled",i.isLogin),t.xp6(1),t.Q6J("ngIf",!i.isLogin),t.xp6(1),t.Q6J("ngIf",i.isLogin))},dependencies:[p.mk,p.sg,p.O5,p.PC,c.mT,c.b6,c.Hq,c.oB,c.Ui,c.XI,f.xr,_.Fj,_.JJ,_.On],styles:['@charset "UTF-8";.divider[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.order[_ngcontent-%COMP%]{font-size:12px;font-family:regular;margin:20px 0}.main-box[_ngcontent-%COMP%]{border:1px solid rgb(232,232,232);border-radius:5px;padding:20px;margin-bottom:20px}.rest_details[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:20px;justify-content:space-between;align-items:center}.rest_details[_ngcontent-%COMP%]   .basic_details[_ngcontent-%COMP%]{display:flex;flex-direction:row}.rest_details[_ngcontent-%COMP%]   .basic_details[_ngcontent-%COMP%]   .order-image[_ngcontent-%COMP%]{height:30px;width:30px;background-position:center;background-repeat:no-repeat;background-size:cover}.rest_details[_ngcontent-%COMP%]   .basic_details[_ngcontent-%COMP%]   .head-text[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.rest_details[_ngcontent-%COMP%]   .basic_details[_ngcontent-%COMP%]   .order-address[_ngcontent-%COMP%]{font-size:12px}.rest_details[_ngcontent-%COMP%]   .extra_btns[_ngcontent-%COMP%]   .track_store[_ngcontent-%COMP%]{color:red;font-size:12px;border:1px solid red;border-radius:25px;padding:2px 10px;margin:0 5px;cursor:pointer}.res_location[_ngcontent-%COMP%]{font-size:14px;width:90%}.flex_div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px}.flex_div[_ngcontent-%COMP%]   .food_title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}.flex_div[_ngcontent-%COMP%]   .food_price[_ngcontent-%COMP%]{font-size:15px}.flex_div[_ngcontent-%COMP%]   .fav_lbl[_ngcontent-%COMP%]{color:red;font-size:12px;border:1px solid red;border-radius:25px;padding:2px 10px}.location_body[_ngcontent-%COMP%]   .upper_div[_ngcontent-%COMP%]{height:50vh}.location_body[_ngcontent-%COMP%]   .upper_div[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]{height:40vh;padding:20px}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:block}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .head_lbl[_ngcontent-%COMP%]{font-weight:600;font-size:20px;margin-top:10px}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .driver_detail_div[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:row;align-items:center;position:relative}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .driver_detail_div[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]{height:50px!important;width:50px!important;border-radius:100%;background-position:center;background-size:cover;background-repeat:no-repeat;min-width:50px}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .driver_detail_div[_ngcontent-%COMP%]   .boy_name[_ngcontent-%COMP%]{font-weight:600}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .driver_detail_div[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{color:gray;width:80%}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .driver_detail_div[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{font-weight:600;border-radius:5px;background:#ff384c;color:#fff;padding:10px;cursor:pointer;text-align:center}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]{font-weight:700;margin-top:20px}.location_body[_ngcontent-%COMP%]   .lower_div[_ngcontent-%COMP%]   .order_status[_ngcontent-%COMP%]{background:#ff384c;position:absolute;right:20px;color:#fff;padding:3px 8px;border-radius:3px;text-transform:uppercase}.order-head[_ngcontent-%COMP%]{padding-bottom:10px;border-bottom:1px solid rgb(232,232,232)}.order-head[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]{font-size:10px;font-family:regular}.order-body[_ngcontent-%COMP%]{margin:10px 0}.veg-image[_ngcontent-%COMP%]{height:15px;width:15px}.item-name[_ngcontent-%COMP%]{font-family:regular}.bold-text[_ngcontent-%COMP%]{font-size:14px;font-family:bold}.btn_div[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}.btn_div[_ngcontent-%COMP%]   .rates[_ngcontent-%COMP%]{font-weight:600;border-radius:5px;background:#ffc409;color:#fff;padding:10px;cursor:pointer}.btn_div[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{font-weight:600;border-radius:5px;background:#ff384c;color:#fff;padding:10px;cursor:pointer}.edit_profile[_ngcontent-%COMP%]{margin-bottom:40px}.edit_profile[_ngcontent-%COMP%]   .title_text[_ngcontent-%COMP%]{font-size:22px;font-weight:700;text-align:center;margin-top:20px;margin-bottom:5px}.edit_profile[_ngcontent-%COMP%]   .round_image[_ngcontent-%COMP%]{height:90px;width:90px;border-radius:50%;position:relative;margin-top:30px!important;background-repeat:no-repeat;background-size:cover;background-position:center;margin:auto}.edit_profile[_ngcontent-%COMP%]   .round_image[_ngcontent-%COMP%]   .user_icn[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#93959f;font-size:30px}.edit_profile[_ngcontent-%COMP%]   .round_image[_ngcontent-%COMP%]   .green_box[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;background:#0b19df;position:absolute;bottom:0;right:0}.edit_profile[_ngcontent-%COMP%]   .round_image[_ngcontent-%COMP%]   .green_box[_ngcontent-%COMP%]   .pencil_icn[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#fff}.edit_profile[_ngcontent-%COMP%]   .round_image[_ngcontent-%COMP%]   .green_box[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.edit_profile[_ngcontent-%COMP%]   .round_btn[_ngcontent-%COMP%]{background:#0b19df;color:#fff;font-size:18px;margin:50px 0 0;letter-spacing:1px}.RatingBtns[_ngcontent-%COMP%]{color:#ff0;font-size:45px;display:flex;flex-direction:row;justify-content:space-around;align-items:center;margin:20px 0}.RatingBtns[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .RatingBtns[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%]{cursor:pointer;color:orange!important}']}),n})()}];let dt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(pt),d.Bz]}),n})();var _t=l(8423);let gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.ez,dt,c.yi.forRoot(),f.hx,_t.ef,_.u5]}),n})()}}]);